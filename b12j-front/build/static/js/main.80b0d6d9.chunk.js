(this.webpackJsonpb12j_front=this.webpackJsonpb12j_front||[]).push([[0],{107:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(31),a=c.n(s),r=c(3),i=(c(61),c(1)),o=c.n(i),l=c(26),d=c(11),j=c(17),b=c(8),u=c(10),h=c(9),O=c(5),m=c(19),p=c(21),x=c(15),f=c.n(x),g=c(20),v=c(18),y=c.n(v),N=c(50);function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";localStorage.removeItem("token"),window.location=e}function I(){try{var e=localStorage.getItem("token");return Object(N.a)(e)}catch(t){return null}}function C(){return localStorage.getItem("token")}var A="localhost"===document.domain?"http://127.0.0.1:8000/api":document.location.protocol+"//"+document.location.host+"/api",w={contests:"/contests",submissions:"/submissions",standing:"/contests/standing",problems:"/problems",tutorials:"/tutorials",chat:"/chat",cf:"/cf",cfProblems:"cf/problems",cfStatics:"cf/statics",users:"/users",login:"/users/login",register:"/users/register",logout:"/users/logout"},_=Object(d.b)("api/callBegan"),k=Object(d.b)("api/callFailed");y.a.defaults.headers.common["x-auth-token"]=C();var T=function(e){var t=e.dispatch;return function(e){return function(){var c=Object(g.a)(f.a.mark((function c(n){var s,a,r,i,o,l,d,j,b;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.type===_.type){c.next=2;break}return c.abrupt("return",e(n));case 2:return s=n.payload,a=s.url,r=s.method,i=s.data,o=s.onSuccess,l=s.onError,d=s.onStart,j=s.onFailed,d&&t({type:d}),e(n),c.prev=5,c.next=8,y.a.request({baseURL:A,url:a,method:r,data:i});case 8:b=c.sent,o&&t({type:o,payload:b.data}),c.next=17;break;case 12:c.prev=12,c.t0=c.catch(5),j&&t({type:j}),t(k({payload:c.t0.message})),l&&t({type:l,payload:c.t0.message});case 17:case"end":return c.stop()}}),c,null,[[5,12]])})));return function(e){return c.apply(this,arguments)}}()}},P=c(25),B=c.n(P),E=c(52),L=function(e){var t=new Date(e);return B()(t).format("D MMM YY:::H:m")},D=function(e){var t;return t={},Object(p.a)(t,"".concat(e,"Added"),(function(e,t){e.list.push(t.payload.id),e.dict[t.payload.id]=t.payload,e.loading=!1})),Object(p.a)(t,"".concat(e,"Updated"),(function(e,t){e.dict[t.payload.id]?e.dict[t.payload.id]=t.payload:(e.dict[t.payload.id]=t.payload,e.list.push(t.payload)),e.loading=!1})),Object(p.a)(t,"".concat(e,"sReceived"),(function(e,t){for(var c=t.payload.results,n=0;n<c.length;n++)e.dict[c[n].id]=c[n],e.list.push(c[n].id);e.loading=!1})),Object(p.a)(t,"".concat(e,"Requested"),(function(e){e.loading=!0})),Object(p.a)(t,"".concat(e,"RequestFailed"),(function(e){e.loading=!1})),t},R=function(e,t){var c;e.loading=!1;var n=t.payload.next;c=n?function(e){var t=Object(E.parse)(e).offset;return Math.ceil(t/20)}(n):Math.ceil(t.payload.count/20),e.fetched.push(parseInt(c)),e.list[c]=[],e.dict[c]={},e.total=Math.ceil(t.payload.count/20);for(var s=t.payload.results,a=0;a<s.length;a++)e.dict[s[a].id]=s[a],e.list[c].push(s[a].id)},M=function(){function e(t,c,n,s){var a=this;Object(b.a)(this,e),this.requestedIdQueue=[],this.start=function(){a.store.dispatch({type:a.requested.type})},this.failure=function(){a.store.dispatch({type:a.requestFailed.type})},this._load=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w["".concat(a.name,"s")]+"/";a.store.dispatch(_({url:e,onStart:a.requested.type,onSuccess:a.received.type,onFailed:a.requestFailed.type}))},this._loadById=function(e){if(-1===a.requestedIdQueue.indexOf(e)){a.requestedIdQueue.push(e);var t={method:"GET",target:a.name,id:e};a.ws.send(JSON.stringify(t)),a.start()}},this.add=function(e){var t={method:"POST",target:a.name,data:e};a.ws.send(JSON.stringify(t)),a.start()},this.edit=function(e){var t={method:"PUT",target:a.name,id:e.id,data:e};a.ws.send(JSON.stringify(t)),a.start()},this.update=function(e){a.store.dispatch({type:a.updated.type,payload:e})},this.getById=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=a.store.getState()["".concat(a.name,"s")].dict;if(t){if(c[e])return c[e][t];e&&a._loadById(e)}else if(c[e])return c[e];return e&&a._loadById(e),null};var r=t.actions;this.ws=n,this.store=c,this.name=s,this.added=r["".concat(s,"Added")],this.requestFailed=r["".concat(s,"RequestFailed")],this.requested=r["".concat(s,"Requested")],this.received=r["".concat(s,"sReceived")],this.updated=r["".concat(s,"Updated")]}return Object(m.a)(e,[{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e){for(var t=this.store.getState()["".concat(this.name,"s")].dict,c=[],n=0;n<e.length;n++)c.push(t[e[n]]);return c}}}]),e}(),U="contest",F=Object(d.c)({name:"".concat(U,"s"),initialState:Object(O.a)({},{list:[],dict:{},fetched:[],total:null,loading:!1}),reducers:Object(O.a)(Object(O.a)({},D(U)),{},{contestsReceived:function(e,t){R(e,t)}})}),q=F.reducer,J=function(e){Object(u.a)(c,e);var t=Object(h.a)(c);function c(e,n){var s;return Object(b.a)(this,c),(s=t.call(this,F,e,n,U))._loadContest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=s.store.getState().contests;-1!==t.fetched.indexOf(e)||t.loading||((e<1||t.total&&e>t.total)&&alert("Wrong page"),s._load("/contests/?limit=20&offset=".concat(20*(e-1))))},s.getList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return s._loadContest(e),s.list(s.store.getState().contests.list[e])},s}return c}(M),W="problem",H=Object(d.c)({name:"".concat(W,"s"),initialState:Object(O.a)({},{list:[],dict:{},fetched:[],total:null,loading:!1}),reducers:Object(O.a)(Object(O.a)({},D(W)),{},{problemsReceived:function(e,t){var c=t.payload.results;if(c.length<1)console.log("No Problems for this contest");else{var n=c[0].contest;e.loading=!1,e.fetched.push(n);for(var s=0;s<c.length;s++)e.dict[c[s].id]=c[s]}}})}),V=H.reducer,K=function(e){Object(u.a)(c,e);var t=Object(h.a)(c);function c(e,n){var s;return Object(b.a)(this,c),(s=t.call(this,H,e,n,W))._loadProblems=function(e){var t=s.store.getState().problems;-1!==t.fetched.indexOf(e)||t.loading||s._load("/problems/?contest_id=".concat(e))},s.getList=function(e){s._loadProblems(e);var t=[],c=s.store.getState().problems.dict;for(var n in c)c[n].contest===e&&t.push(c[n]);return t},s}return c}(M),Q="user",Y=Object(d.c)({name:"".concat(Q,"s"),initialState:Object(O.a)(Object(O.a)({},{list:[],dict:{},fetched:[],total:null,loading:!1}),{},{info:I()}),reducers:Object(O.a)(Object(O.a)({},D(Q)),{},{loggedIn:function(e,t){e.info=t.payload},loggedOut:function(e){e.info=null}})}),G=Y.actions.loggedIn,z=Y.reducer,X=function(e){Object(u.a)(c,e);var t=Object(h.a)(c);function c(e,n){var s;return Object(b.a)(this,c),(s=t.call(this,Y,e,n,Q)).loadUsers=function(){s._load("/users/?limit=1000")},s.getList=function(){return s.list(s.store.getState().users.list)},s.firstName=function(e){return s.getById(e,"first_name")},s.fullName=function(e){return s.getById(e,"first_name")+" "+s.getById(e,"last_name")},s.currentUser=function(){return s.store.getState()["".concat(s.name,"s")].info},s.addUserToStore=function(){s.store.dispatch({type:G.type,payload:I()})},s}return c}(M),Z="submission",$=Object(d.c)({name:"".concat(Z,"s"),initialState:Object(O.a)({},{list:[],dict:{},fetched:[],total:null,loading:!1}),reducers:Object(O.a)(Object(O.a)({},D(Z)),{},{submissionsReceived:function(e,t){R(e,t)},submissionUpdated:function(e,t){!function(e,t){e.dict[t.payload.id]?e.dict[t.payload.id]=t.payload:(e.dict[t.payload.id]=t.payload,e.list[1]||(e.list[1]=[]),e.list[1]=[t.payload.id].concat(Object(l.a)(e.list[1]))),e.loading=!1}(e,t)}})}),ee=$.reducer,te=function(e){Object(u.a)(c,e);var t=Object(h.a)(c);function c(e,n){var s;return Object(b.a)(this,c),(s=t.call(this,$,e,n,Z))._loadSubmission=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=s.store.getState().submissions;-1!==t.fetched.indexOf(e)||t.loading||(e<1||t.total&&e>t.total?alert("Wrong page"):s._load("/submissions/?limit=20&offset=".concat(20*(e-1))))},s.getList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return s._loadSubmission(e),s.list(s.store.getState().submissions.list[e])},s.totalPages=function(){return s.store.getState()[s.name+"s"].total},s}return c}(M),ce="tutorial",ne=Object(d.c)({name:"".concat(ce,"s"),initialState:Object(O.a)({},{list:[],dict:{},fetched:[],total:null,loading:!1}),reducers:Object(O.a)(Object(O.a)({},D(ce)),{},{tutorialsReceived:function(e,t){var c=t.payload.results;if(c.length<1)console.log("No tutorials for this contest");else{var n=c[0].contest;e.loading=!1,e.fetched.push(n);for(var s=0;s<c.length;s++)e.dict[c[s].id]=c[s]}}})}),se=ne.reducer,ae=function(e){Object(u.a)(c,e);var t=Object(h.a)(c);function c(e,n){var s;return Object(b.a)(this,c),(s=t.call(this,ne,e,n,ce))._loadTutorials=function(e){var t=s.store.getState().tutorials;-1!==t.fetched.indexOf(e)||t.loading||s._load("/tutorials/?contest_id=".concat(e))},s.getList=function(e){s._loadTutorials(e);var t=[],c=s.store.getState().tutorials.dict;for(var n in c)c[n].contest===e&&t.push(c[n]);return t},s}return c}(M),re=Object(j.b)({contests:q,problems:V,submissions:ee,users:z,tutorials:se});var ie=function(){var e=Object(i.useContext)(Ze).userActs.currentUser();return Object(n.jsx)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:Object(n.jsx)("div",{className:"",id:"navbarNav",children:Object(n.jsxs)("ul",{className:"navbar-nav",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsxs)(r.c,{className:"nav-link",to:"/",children:["Home ",Object(n.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(r.c,{className:"nav-link",to:"/contests",children:"Contests"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(r.c,{className:"nav-link",to:"/submissions",children:"Submission"})}),Object(n.jsxs)("li",{className:"nav-item",children:[!e&&Object(n.jsx)(r.c,{to:"/users/login",className:"nav-link",children:"Login"}),e&&Object(n.jsx)(r.c,{to:"/users/profile",className:"nav-link",children:"Profile"})]})]})})})},oe=c(6),le=c(2),de=function(){var e=Object(i.useContext)(Ze),t=e.contestActs,c=e.userActs,s=Object(i.useState)(t.getList()),a=Object(le.a)(s,2),o=a[0],l=a[1];return Object(i.useEffect)((function(){t.store.subscribe((function(){l(t.getList())}))}),[]),Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Writers"}),Object(n.jsx)("th",{children:"Testers"}),Object(n.jsx)("th",{children:"Start"}),Object(n.jsx)("th",{children:"End"})]})}),Object(n.jsx)("tbody",{children:o&&o.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)(r.b,{to:"/contests/".concat(e.id),children:e.title})}),Object(n.jsx)("td",{children:e.hosts.map((function(e){return Object(n.jsx)("p",{className:"user",children:c.firstName(e)},e)}))}),Object(n.jsx)("td",{children:e.testers.map((function(e){return Object(n.jsx)("p",{className:"user",children:c.firstName(e)},e)}))}),Object(n.jsx)("td",{children:L(e.start_time)}),Object(n.jsx)("td",{children:L(e.end_time)})]},e.id)}))})]})})},je=function(e){var t=e.match.params.contestId,c=Object(i.useContext)(Ze),s=c.problemActs,a=c.userActs,o=Object(i.useState)(s.getList(t)),l=Object(le.a)(o,2),d=l[0],j=l[1],b=s.store.subscribe((function(){j(s.getList(t)),b()}));return Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Writer"})]})}),Object(n.jsx)("tbody",{children:d.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)(r.b,{to:"/problems/".concat(e.id),children:e.title})}),Object(n.jsx)("td",{children:a.fullName(e.by)})]},e.id)}))})]})})},be=c(54),ue=function(e){var t=e.match.params.contestId,c=Object(i.useContext)(Ze),s=c.tutorialActs,a=c.userActs,o=Object(i.useState)(s.getList(t)),l=Object(le.a)(o,2),d=l[0],j=l[1],b=s.store.subscribe((function(){j(s.getList(t)),b()}));return Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Writer"})]})}),Object(n.jsx)("tbody",{children:d.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)(r.b,{to:"/tutorials/".concat(e.id),children:e.title})}),Object(n.jsx)("td",{children:a.fullName(e.by)})]},e.id)}))})]})})},he=function(e){return e?{__html:"".concat(e)}:{__html:"<span />"}},Oe=function(e){var t=e.text;return Object(n.jsx)("div",{dangerouslySetInnerHTML:he(t)})},me=(i.Component,function(e){var t=e.match,c=t.params.contestId,s=Object(i.useContext)(Ze),a=s.contestActs,o=s.userActs,l=Object(i.useState)(a.getById(c)),d=Object(le.a)(l,2),j=d[0],b=d[1],u=Object(i.useState)(!1),h=Object(le.a)(u,2),O=h[0],m=h[1],p=a.store.subscribe((function(){b(a.getById(c)),m(!O),p()})),x=new Date(j&&j.start_time||Date.now().toLocaleString()),f=new Date(j&&j.end_time||Date.now().toLocaleString());return Object(n.jsxs)("div",{className:"container",children:[j&&Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{className:"text-success display-4",children:j.title}),Object(n.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(n.jsxs)("thead",{children:[Object(n.jsx)("th",{children:"Contest Writers"}),Object(n.jsx)("th",{children:"Contest Testers"})]}),Object(n.jsxs)("tbody",{children:[Object(n.jsx)("td",{children:j.hosts.map((function(e){return Object(n.jsx)("p",{className:"user",children:o.firstName(e)},e)}))}),Object(n.jsx)("td",{children:j.testers.map((function(e){return Object(n.jsx)("p",{className:"user",children:o.firstName(e)},e)}))})]})]}),j.text&&Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"About contest"}),Object(n.jsx)("div",{className:"bgAliceBlue",children:Object(n.jsx)(Oe,{text:j.text})}),Object(n.jsx)("br",{})]}),Object(n.jsx)(r.b,{to:"/contests/standing/".concat(c),children:Object(n.jsx)("button",{className:"btn-lg btn-outline-success",children:"Standing"})})]}),x>Date.now()&&Object(n.jsx)("div",{className:"container",children:Object(n.jsx)(be.a,{date:j.start_time,className:"display-4",onComplete:function(){m(!O)}})}),x<=Date.now()&&Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"Problems"}),Object(n.jsx)(je,{match:t})]}),f<=Date.now()&&Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"Tutorials"}),Object(n.jsx)(ue,{match:t})]})]})});y.a.defaults.headers.common["x-auth-token"]=C(),y.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(console.log("Logging the error",e),alert("An unexpected error.")),Promise.reject(e)}));var pe={get:y.a.get,post:y.a.post,put:y.a.put,delete:y.a.delete},xe=A,fe=function(e){var t=e.match,c=Object(i.useContext)(Ze),s=c.contestActs,a=c.userActs,r=t.params.contestId,o=Object(i.useState)([]),l=Object(le.a)(o,2),d=l[0],j=l[1],b=Object(i.useState)([]),u=Object(le.a)(b,2),h=u[0],O=u[1];Object(i.useEffect)((function(){(function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.start(),e.next=3,pe.get("".concat(xe,"/standing/").concat(r));case 3:t=e.sent,s.failure(),j(t.data.during),O(t.data.after);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r]);return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h2",{children:"During Contest"}),ge(d,a,1),Object(n.jsx)("h2",{children:"After Contest"}),ge(h,a,1)]})},ge=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object(n.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Position"}),Object(n.jsx)("th",{children:"User"}),Object(n.jsx)("th",{children:"Solves"}),Object(n.jsx)("th",{children:"Penalty"})]})}),Object(n.jsx)("tbody",{children:e.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:c++}),Object(n.jsx)("td",{children:t.fullName(e[0])}),Object(n.jsx)("td",{children:e[1]}),Object(n.jsx)("td",{children:Math.floor(parseFloat(e[2])/100)})]},c)}))})]})},ve=function(){return Object(n.jsxs)(oe.c,{children:[Object(n.jsx)(oe.a,{path:"/contests/standing/:contestId",component:fe}),Object(n.jsx)(oe.a,{path:"/contests/:contestId",component:me}),Object(n.jsx)(oe.a,{path:w.contests,component:de})]})},ye=function(){var e=Object(i.useContext)(Ze).userActs;return Object(i.useEffect)((function(){var e=document.createElement("script");return e.type="text/javascript",e.async=!0,e.innerText='const firebaseConfig = {\n            apiKey: "AIzaSyB9n-TJY1hy49WoECQH7fZXlxA7lKI2VH4",\n            authDomain: "b12j-mah.firebaseapp.com",\n            databaseURL: "https://b12j-mah.firebaseio.com",\n            projectId: "b12j-mah",\n            storageBucket: "b12j-mah.appspot.com",\n            messagingSenderId: "704405925886",\n            appId: "1:704405925886:web:2066da3c25584a7ed4daaf",\n            measurementId: "G-XE9M4QRX4J"\n        };\n        firebase.initializeApp(firebaseConfig);\n    \n        const ui = new firebaseui.auth.AuthUI(firebase.auth());\n        const uiConfig = {\n            callbacks: {\n                signInSuccessWithAuthResult: function (authResult, redirectUrl) {\n                    firebase.auth().currentUser.getIdToken(/* forceRefresh */ true).then(function (idToken) {\n                        fetch(\''.concat(A+"/login/","', {\n                            method: \"POST\",\n                            headers: {'token': idToken}\n                        }).then(async (response) => {\n                            const data = await response.json();\n                            localStorage.setItem(\"token\", data.jwt);\n                            window.location = '/';                        \n                        })\n                    });\n                    return true;\n                },\n            },\n            signInFlow: 'popup',\n            signInOptions: [\n                firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n                firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n                firebase.auth.GithubAuthProvider.PROVIDER_ID,\n                firebase.auth.TwitterAuthProvider.PROVIDER_ID,\n            ],\n        };\n        ui.start('#firebaseui-auth-container', uiConfig);"),document.body.appendChild(e),function(){document.body.removeChild(e)}}),[]),Object(n.jsx)("div",{children:Object(n.jsx)("div",{onClick:e.start,children:Object(n.jsx)("div",{id:"firebaseui-auth-container",className:"pt-5"})})})},Ne=function(){var e=Object(i.useContext)(Ze).userActs,t=Object(i.useState)(e.getList()),c=Object(le.a)(t,2),s=c[0],a=c[1];return Object(i.useEffect)((function(){e.store.subscribe((function(){a(e.getList())}))})),Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("table",{className:"table table-dark table-bordered",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"User id"}),Object(n.jsx)("th",{children:"First Name"}),Object(n.jsx)("th",{children:"Last Name"})]})}),Object(n.jsx)("tbody",{children:s.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.id}),Object(n.jsx)("td",{children:e.first_name}),Object(n.jsx)("td",{children:e.last_name})]},e.id)}))})]})})},Se=function(){var e=Object(i.useContext)(Ze).problemActs,t=Object(i.useState)([]),c=Object(le.a)(t,2),s=c[0],a=c[1],o=Object(i.useState)([]),l=Object(le.a)(o,2),d=l[0],j=l[1],b=Object(i.useState)([]),u=Object(le.a)(b,2),h=u[0],O=u[1],m=Object(i.useState)([]),p=Object(le.a)(m,2),x=p[0],v=p[1];return Object(i.useEffect)((function(){(function(){var t=Object(g.a)(f.a.mark((function t(){var c,n,s,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.start(),t.next=3,pe.get("".concat(A,"/problems/user_problems/"));case 3:return c=t.sent,t.next=6,pe.get("".concat(A,"/submissions/user_submissions/"));case 6:return n=t.sent,t.next=9,pe.get("".concat(A,"/contests/user_contests/"));case 9:return s=t.sent,t.next=12,pe.get("".concat(A,"/problems/test_problems/"));case 12:r=t.sent,e.failure(),a(c.data.results),j(n.data.results),O(s.data.results),v(r.data.results);case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(n.jsxs)("div",{className:"container pt-5",children:[Object(n.jsx)("button",{className:"btn btn-danger",onClick:S,children:"Logout"}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-sm",children:[Object(n.jsx)("b",{children:"Contest set by you"}),Object(n.jsxs)("table",{className:"table table-striped table-bordered",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Title"}),Object(n.jsx)("th",{})]})}),Object(n.jsx)("tbody",{children:h.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)(r.b,{to:"/contests/".concat(e.id),children:e.title})}),Object(n.jsx)("td",{children:Object(n.jsx)(r.b,{to:"/problems/add/".concat(e.id),className:"btn-sm btn-success",children:"Add problem"})})]},e.id)}))})]})]}),Object(n.jsxs)("div",{className:"col-sm",children:[Object(n.jsx)("b",{children:"Testable problem for you"}),Object(n.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Title"}),Object(n.jsx)("th",{children:"Contest"})]})}),Object(n.jsx)("tbody",{children:x.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)(r.b,{to:"/problems/".concat(e.id),children:e.title})}),Object(n.jsx)("td",{children:e.contest})]},e.id)}))})]})]})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-sm",children:[Object(n.jsx)("b",{children:"Last 20 Problem set by you"}),Object(n.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Title"}),Object(n.jsx)("th",{children:"Contest"})]})}),Object(n.jsx)("tbody",{children:s.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)(r.b,{to:"/problems/".concat(e.id),children:e.title})}),Object(n.jsx)("td",{children:e.contest})]},e.id)}))})]})]}),Object(n.jsxs)("div",{className:"col-sm",children:[Object(n.jsx)("b",{children:"Last 20 submissions by you"}),Object(n.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Contest"}),Object(n.jsx)("th",{children:"Problem"}),Object(n.jsx)("th",{children:"Verdict"})]})}),Object(n.jsx)("tbody",{children:d.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.contest}),Object(n.jsx)("td",{children:e.problem}),Object(n.jsx)("td",{children:Object(n.jsx)(r.b,{to:"/submissions/".concat(e.id),children:e.verdict})})]},e.id)}))})]})]})]})]})},Ie=function(){return Object(n.jsxs)(oe.c,{children:[Object(n.jsx)(oe.a,{path:w.login,component:ye}),Object(n.jsx)(oe.a,{path:"/users/profile",component:Se}),Object(n.jsx)(oe.a,{path:"/users/list",component:Ne})]})},Ce=function(e){var t=e.mode,c=e.theme,s=e.font,a=e.name,r=e.value,l=e.label,d=e.onChange,j=o.a.createRef();Object(i.useEffect)((function(){var e=document.createElement("script");return e.type="text/javascript",e.innerText='ace.require("ace/ext/language_tools");\n        var editor = ace.edit("'.concat(a+"c",'");\n        editor.session.setMode("ace/mode/').concat(t,'");\n        editor.setTheme("ace/theme/').concat(c,'");\n        editor.getSession().setUseWorker(true);\n        editor.setValue("').concat(r,'");\n        editor.clearSelection();\n        editor.setOptions({\n            enableBasicAutocompletion: true,\n            enableSnippets: true,\n            enableLiveAutocompletion: true\n        });\n        editor.setFontSize("').concat(s,'px");\n        editor.commands.addCommand({\n            name: "showKeyboardShortcuts",\n            bindKey: {win: "Ctrl-h", mac: "Command-Alt-h"},\n            exec: function (editor) {\n                ace.config.loadModule("ace/ext/keybinding_menu", function (module) {\n                    module.init(editor);\n                    editor.showKeyboardShortcuts()\n                })\n            }\n        });\n        var textarea = document.getElementById(\'').concat(a,'\');\n        editor.getSession().on("change", function () {\n            textarea.value = editor.getSession().getValue();\n        });'),document.body.appendChild(e),function(){document.body.removeChild(e)}}),[s,t,a,c]);return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("label",{htmlFor:a+"c",children:Object(n.jsx)("h3",{children:l})}),Object(n.jsx)("div",{id:a+"c",onKeyUp:function(){var e=j.current.value;d({currentTarget:{name:a,value:e}})},style:{height:"300px",width:"100%"}}),Object(n.jsx)("textarea",{id:a,className:"ace_code_editor",name:a,ref:j,style:{display:"none"}})]})},Ae=function(e){var t=e.problem,c=e.history,s=Object(i.useContext)(Ze).submissionActs,a=Object(i.useState)(""),r=Object(le.a)(a,2),o=r[0],l=r[1],d=Object(i.useState)("python"),j=Object(le.a)(d,2),b=j[0],u=j[1],h=Object(i.useState)("chrome"),O=Object(le.a)(h,2),m=O[0],p=O[1],x=Object(i.useState)(15),v=Object(le.a)(x,2),y=v[0],N=v[1],S=I(),C=function(e){var c=e.currentTarget,n=c.name,s=c.value;"language"===n?u(s):n===t.id?l(s):"theme"===n?p(s):"font"===n&&N(s)},w=function(){var e=Object(g.a)(f.a.mark((function e(){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o.length<10)){e.next=3;break}return alert("Your code is less than 10 character. If you're pasting code then please press space or any key after paste."),e.abrupt("return");case 3:if("python"===b||"c_cpp"===b){e.next=6;break}return alert("Please choose correct language"),e.abrupt("return");case 6:return n={code:o,language:b,problem:t.id},s.start(),e.prev=8,e.next=11,pe.post(A+"/submissions/",n);case 11:a=e.sent,s.failure(),c.push("/submissions/".concat(a.data.id)),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(8),s.failure(),e.t0.response&&403===e.t0.response.status?window.location.reload():e.t0.response?(console.log("This is the error reason. Please send it to Mahmudul",e.t0.response),alert("Tell this to Mahmudul: code: ".concat(e.t0.response.status))):(console.log(e.t0),alert("Couldn't submit. Sometimes server is causing this error. Check your console"));case 20:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"row pr-3 pl-3",children:[Object(n.jsxs)("select",{className:"custom-select col-4",name:"language",onChange:C,children:[Object(n.jsx)("option",{value:"python",children:"Python3"}),Object(n.jsx)("option",{value:"c_cpp",children:"C/C++"})]}),Object(n.jsxs)("select",{className:"custom-select col-4",name:"theme",id:"theme",onChange:C,children:[Object(n.jsx)("option",{value:"chrome",children:"White"}),Object(n.jsx)("option",{value:"gob",children:"Dark"})]}),Object(n.jsxs)("select",{className:"custom-select col-4",name:"font",id:"font",onChange:C,children:[Object(n.jsx)("option",{value:"15",children:"15px"}),Object(n.jsx)("option",{value:"12",children:"12px"}),Object(n.jsx)("option",{value:"18",children:"18px"}),Object(n.jsx)("option",{value:"20",children:"20px"})]})]}),Object(n.jsx)(Ce,{mode:b,value:o,theme:m,onChange:C,name:t.id,font:y}),!S&&Object(n.jsx)("div",{className:"alert alert-danger",children:"Please login to submit"}),Object(n.jsx)("div",{className:"alert alert-info",children:"If you're coping code from anywhere then please press space after pasting or you will get error"}),Object(n.jsx)("button",{disabled:!S,className:"btn btn-success",onClick:w,children:"Submit"})]})},we=function(e){var t=e.match,c=e.history,s=Object(i.useContext)(Ze),a=s.problemActs,o=s.userActs,l=t.params.problemId,d=Object(i.useState)(a.getById(l)),j=Object(le.a)(d,2),b=j[0],u=j[1],h=Object(i.useState)(!1),O=Object(le.a)(h,2),m=O[0],p=O[1];a.store.subscribe((function(){u(a.getById(l)),p(!m)}));var x=I()&&I().id;return Object(i.useEffect)((function(){u(a.getById(l))}),[l]),b&&Object(n.jsxs)("div",{className:"container",children:[x===b.by&&Object(n.jsx)(r.b,{to:"/problems/edit/".concat(b.id),children:Object(n.jsx)("button",{className:"btn-lg btn-success",children:"Edit"})}),Object(n.jsxs)("div",{className:"bgDarkBlue",children:[Object(n.jsx)("h1",{children:b.title}),Object(n.jsxs)("h3",{children:["By ",Object(n.jsx)("span",{className:"user",children:o.fullName(b.by)})]})]}),Object(n.jsxs)("div",{className:"bgAliceBlue",children:[Object(n.jsx)("div",{className:"alert alert-info",children:b.notice}),Object(n.jsx)("h4",{children:"Problem statement"}),Object(n.jsx)(Oe,{text:b.text})," ",Object(n.jsx)("br",{}),Object(n.jsx)("h4",{children:"Input Terms"}),Object(n.jsx)(Oe,{text:b.inTerms})," ",Object(n.jsx)("br",{}),Object(n.jsx)("h4",{children:"Output Terms"}),Object(n.jsx)(Oe,{text:b.outTerms})," ",Object(n.jsx)("br",{})]}),Object(n.jsxs)("table",{className:"table table-bordered",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Input"}),Object(n.jsx)("th",{children:"Output"})]})}),Object(n.jsx)("tbody",{children:b.test_cases.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("pre",{children:e.input})}),Object(n.jsx)("td",{children:Object(n.jsx)("pre",{children:e.output})})]},Math.floor(1e3*Math.random()))}))})]}),Object(n.jsx)(Ae,{problem:b,history:c}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]})},_e=function(e){Object(u.a)(c,e);var t=Object(h.a)(c);function c(e){var n;return Object(b.a)(this,c),(n=t.call(this,e)).formatHtml=function(e){return e?{__html:"".concat(e)}:{__html:"<span />"}},n.extract=function(){var e=n.editorContainer.current.getElementsByClassName("ql-editor")[0],t={currentTarget:{name:n.props.name,value:e.innerHTML}};n.props.onChange(t)},n.editorContainer=o.a.createRef(),n}return Object(m.a)(c,[{key:"componentDidMount",value:function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.innerText="function imageHandler() {var range = this.quill.getSelection();var value = prompt('please copy paste the image url here.');if (value) {this.quill.insertEmbed(range.index, 'image', value, Quill.sources.USER);}}",document.body.appendChild(e);var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.innerText="var editor = new Quill('#".concat(this.props.name,"',\n        {'theme': 'snow', 'modules':{'toolbar':{ 'container': [ ['bold', 'italic', 'underline', 'strike'],\n        ['blockquote', 'code-block'], ['link', 'image'], [{'list': 'ordered'}, {'list': 'bullet'}],\n         [{'script': 'sub'}, {'script': 'super'}], [{'header': [1, 2, 3, 4, 5, 6, false]}], [{'color': []},\n          {'background': []}], [{'align': []}]], handlers:{image: imageHandler}  } }});"),document.body.appendChild(t)}},{key:"render",value:function(){var e=this.props,t=e.label,c=e.name,s=e.value;return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("label",{htmlFor:c,children:Object(n.jsx)("h3",{children:t})}),Object(n.jsx)("div",{ref:this.editorContainer,id:c,onKeyUp:this.extract,dangerouslySetInnerHTML:this.formatHtml(s)})]})}}]),c}(i.Component),ke=function(e){Object(u.a)(c,e);var t=Object(h.a)(c);function c(){var e;Object(b.a)(this,c);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={value:e.props.value},e}return Object(m.a)(c,[{key:"render",value:function(){var e=this,t=this.props,c=t.name,s=t.label,a=t.error,r=t.type,i=t.onChange,o=t.placeholder;return Object(n.jsxs)("div",{className:"form-group",children:[s&&Object(n.jsx)("label",{htmlFor:"{name}",children:Object(n.jsx)("h3",{children:s})}),Object(n.jsx)("input",{type:r,value:this.state.value,onChange:function(t){i(t),e.setState({value:t.currentTarget.value})},id:c,name:c,className:"form-control",autoComplete:"off",placeholder:o}),Object(n.jsx)("p",{children:Object(n.jsx)("small",{})}),a&&Object(n.jsx)("div",{className:"alert alert-danger",children:a})]})}}]),c}(i.Component);ke.defaultProps={type:"text",placeholder:"Input here"};var Te=ke,Pe=function(e){var t=e.match,c=e.history,s=t.params,a=s.contestId,r=s.problemId,o=Object(i.useContext)(Ze),l=o.problemActs,d=o.contestActs,j=Object(i.useState)(l.getById(r)),b=Object(le.a)(j,1)[0],u=Object(i.useState)(d.getById(a)),h=Object(le.a)(u,1)[0],m={};m=b?Object(O.a)({},b):{contest_id:a,inTerms:"input Terms",outTerms:"output Terms",text:"statement",title:"problem title",corCode:"",conProbId:"A",notice:"nothing",time_limit:1,examples:1};var p=function(e){var t=e.currentTarget,c=t.name,n=t.value;m[c]=n};return Object(n.jsxs)("div",{className:"container pt-5",children:[h&&Object(n.jsx)("h1",{className:"text-info",children:h.title}),Object(n.jsx)(Te,{label:"Problem name",name:"title",value:m.title,onChange:p}),Object(n.jsx)(_e,{label:"Problem Statement",name:"text",value:m.text,onChange:p}),Object(n.jsx)(_e,{label:"Input Terms",name:"inTerms",value:m.inTerms,onChange:p}),Object(n.jsx)(_e,{label:"Output Terms",name:"outTerms",value:m.outTerms,onChange:p}),Object(n.jsx)(Te,{label:"Problem id",placeholder:"A",name:"conProbId",value:m.conProbId,onChange:p}),Object(n.jsx)(Ce,{mode:"c_cpp",value:m.corCode,theme:"chrome",onChange:p,name:"corCode",font:20}),Object(n.jsxs)("div",{className:"bg-light",children:[Object(n.jsx)("h3",{className:"text-info",children:"Everything below are optional. You don't need to change."}),Object(n.jsx)(_e,{label:"Notice",name:"notice",value:m.notice,onChange:p}),Object(n.jsx)(Te,{label:"Time Limit",name:"time_limit",value:m.time_limit,type:"number",onChange:p}),Object(n.jsx)(Te,{label:"Number of example",name:"examples",value:m.examples,type:"number",onChange:p})]}),Object(n.jsx)("button",{className:"btn-lg btn-success",onClick:function(){b?(l.edit(m),c.push("/problems/".concat(b.id))):(l.add(m),c.push("/users/profile"))},children:"Submit"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]})},Be=function(){return Object(n.jsxs)(oe.c,{children:[Object(n.jsx)(oe.a,{path:"/problems/contestId=:contestId",component:je}),Object(n.jsx)(oe.a,{path:"/problems/add/:contestId",component:Pe}),Object(n.jsx)(oe.a,{path:"/problems/edit/:problemId",component:Pe}),Object(n.jsx)(oe.a,{path:"/problems/:problemId",component:we})]})},Ee=c(35),Le=c.n(Ee),De=function(){var e=Object(i.useContext)(Ze).userActs.store,t=Object(i.useState)(!!e.getState().problems.loading),c=Object(le.a)(t,2),s=c[0],a=c[1],r=Object(i.useState)(!!e.getState().users.loading),o=Object(le.a)(r,2),l=o[0],d=o[1],j=Object(i.useState)(!!e.getState().contests.loading),b=Object(le.a)(j,2),u=b[0],h=b[1],O=Object(i.useState)(!!e.getState().submissions.loading),m=Object(le.a)(O,2),p=m[0],x=m[1];e.subscribe((function(){a(!!e.getState().problems.loading),d(!!e.getState().users.loading),h(!!e.getState().contests.loading),x(!!e.getState().submissions.loading)})),Object(i.useEffect)((function(){Le.a.setAppElement("body")}),[]);var f=s||l||u||p;return Object(n.jsx)(Le.a,{isOpen:f,className:"Modal",children:Object(n.jsx)("div",{className:"loader align-middle"})})},Re=c(55),Me=function(e){var t=e.match,c=parseInt(t.params.page)||1,s=Object(i.useContext)(Ze),a=s.submissionActs,o=s.userActs,l=s.problemActs,d=Object(i.useState)(a.getList(c)),j=Object(le.a)(d,2),b=j[0],u=j[1],h=Object(i.useState)(!1),O=Object(le.a)(h,2),m=O[0],p=O[1],x=a.store.subscribe((function(){u(a.getList(c)),x(),p(!m)}));Object(i.useEffect)((function(){u(a.getList(c))}),[c]);var f=a.totalPages();return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Problem"}),Object(n.jsx)("th",{children:"Verdict"}),Object(n.jsx)("th",{children:"By"})]})}),Object(n.jsx)("tbody",{children:b.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)(r.b,{to:"/submissions/".concat(e.id),children:l.getById(e.problem,"title")})}),Object(n.jsx)("td",{children:e.verdict}),Object(n.jsx)("td",{children:o.firstName(e.by)})]},e.id)}))})]}),Ue("/submissions/page=",f,c)]})},Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=[];if(c>2)for(var a=c-2;a<=t&&a<=c+2;a++)s.push(a);else for(var i=1;i<=t&&i<=5;i++)s.push(i);return Object(n.jsx)("ul",{className:"pagination",children:s.map((function(t){return Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)(r.b,{className:"page-link",to:e+t.toString(),children:t})},t)}))})},Fe=function(e){var t=e.match.params.submissionId,c=Object(i.useContext)(Ze),s=c.submissionActs,a=c.userActs,r=c.contestActs,o=c.problemActs,l=Object(i.useState)(s.getById(t)),d=Object(le.a)(l,2),j=d[0],b=d[1],u=Object(i.useState)(r.getById(j&&j.contest)),h=Object(le.a)(u,2),O=h[0],m=h[1],p=Object(i.useState)(!1),x=Object(le.a)(p,2),f=x[0],g=x[1],v=s.store.subscribe((function(){b(s.getById(t)),m(r.getById(j&&j.contest)),v(),g(!f)})),y=new Date(O&&O.end_time||Date.now().toLocaleString()),N=I()&&I().id;return Object(n.jsx)("div",{className:"container",children:j&&Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:Object(n.jsxs)("h5",{children:["Submitter: ",a.fullName(j.by)]})}),Object(n.jsx)("div",{children:Object(n.jsxs)("h5",{children:["Contest: ",r.getById(j.contest,"title")]})}),Object(n.jsx)("div",{children:Object(n.jsxs)("h5",{children:["Problem: ",o.getById(j.problem,"title")]})}),Object(n.jsx)("div",{children:Object(n.jsxs)("h5",{className:"text-nowrap",children:["Verdict: ",Je(j.verdict)]})}),O&&Object(n.jsxs)("div",{children:[(y<=Date.now()||j.by===N)&&Object(n.jsxs)("span",{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h5",{children:"Your Code:"}),Object(n.jsx)("pre",{className:"bg-light text-primary",children:j.code})]}),qe(j.details,j.verdict)]}),y>Date.now()&&j.by!==N&&Object(n.jsx)("h2",{className:"text-danger",children:"You can't see full info during contest"})]})]})})},qe=function(e,t){var c=JSON.parse(e);if(c)return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:Object(n.jsxs)("h5",{children:["Message: ",Object(n.jsx)("pre",{children:c[0]})]})}),"CE"!==t&&Object(n.jsxs)("table",{className:"table table-bordered table-responsive",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Input"}),Object(n.jsx)("td",{children:"Output"}),Object(n.jsx)("td",{children:"Correct Output"})]})}),Object(n.jsx)("tbody",{children:c[1].map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("pre",{children:e[0]})}),Object(n.jsx)("td",{children:Object(n.jsx)("pre",{children:e[1]})}),Object(n.jsx)("td",{children:Object(n.jsx)("pre",{children:e[2]})})]})}))})]})]})},Je=function(e){return"AC"===e?Object(n.jsx)("span",{className:"text-success",children:"Accepted"}):"WA"===e?Object(n.jsx)("span",{className:"text-danger",children:"Wrong Answer"}):"CE"===e?Object(n.jsx)("span",{className:"text-danger",children:"Compilation Error"}):"TLE"===e?Object(n.jsx)("span",{className:"text-danger",children:"Time Limit Exceed"}):"PJ"===e?Object(n.jsx)("span",{className:"text-info",children:"Judging. May take upto minute"}):"FJ"===e?Object(n.jsx)("span",{className:"text-danger",children:"Failed. Judges are offline"}):Object(n.jsx)("span",{children:"Unknown verdict"})},We=function(){return Object(n.jsxs)(oe.c,{children:[Object(n.jsx)(oe.a,{path:"/submissions/page=:page",component:Me}),Object(n.jsx)(oe.a,{path:"/submissions/:submissionId",component:Fe}),Object(n.jsx)(oe.a,{path:"/submissions",component:Me})]})},He=function(e,t){e.update(t)},Ve=function(e,t){e.update(t)},Ke=function(e,t){e.update(t)},Qe=function(e,t){e.update(t)},Ye=function(e,t){e.update(t)},Ge=function(){var e=Object(i.useContext)(Ze),t=e.ws,c=e.contestActs,s=e.problemActs,a=e.submissionActs,r=e.userActs,o=e.tutorialActs;return t.addEventListener("message",(function(e){var t=JSON.parse(e.data).data;"contest"===t.target&&He(c,t),"problem"===t.target&&Ve(s,t),"submission"===t.target&&Ke(a,t),"user"===t.target&&Qe(r,t),"tutorial"===t.target&&Ye(o,t)})),Object(n.jsx)("span",{})},ze=function(e){var t=e.match,c=Object(i.useContext)(Ze),s=c.tutorialActs,a=c.userActs,r=t.params.tutorialId,o=Object(i.useState)(s.getById(r)),l=Object(le.a)(o,2),d=l[0],j=l[1],b=Object(i.useState)(!1),u=Object(le.a)(b,2),h=u[0],O=u[1];return s.store.subscribe((function(){j(s.getById(r)),O(!h)})),Object(i.useEffect)((function(){j(s.getById(r))}),[r]),Object(n.jsxs)("div",{children:[d&&Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)("div",{className:"bgDarkBlue",children:[Object(n.jsx)("h1",{children:d.title}),Object(n.jsxs)("h3",{children:["By ",a.fullName(d.by)]})]}),Object(n.jsx)("div",{className:"bgAliceBlue",children:Object(n.jsx)(Oe,{text:d.text})})]}),!d&&Object(n.jsx)("h1",{children:"Loading"})]})},Xe=function(){return Object(n.jsx)("div",{children:Object(n.jsxs)(oe.c,{children:[Object(n.jsx)(oe.a,{path:"/tutorials/contestId=:contestId",component:ue}),Object(n.jsx)(oe.a,{path:"/tutorials/:tutorialId",component:ze})]})})},Ze=o.a.createContext(),$e=function(){var e=et();return Object(i.useEffect)((function(){e.userActs.loadUsers(),C()&&pe.get(A+"/login_check/").then((function(e){e.data.status||S()}))}),[]),Object(n.jsx)(Ze.Provider,{value:e,children:Object(n.jsxs)("div",{children:[Object(n.jsx)(De,{}),Object(n.jsx)(ie,{}),Object(n.jsx)(Ge,{}),Object(n.jsxs)(oe.c,{children:[Object(n.jsx)(oe.a,{path:w.contests,component:ve}),Object(n.jsx)(oe.a,{path:w.problems,component:Be}),Object(n.jsx)(oe.a,{path:w.submissions,component:We}),Object(n.jsx)(oe.a,{path:w.tutorials,component:Xe}),Object(n.jsx)(oe.a,{path:w.user,component:Ie})]})]})})},et=function(){var e=Object(d.a)({reducer:re,middleware:[].concat(Object(l.a)(Object(d.d)()),[T])}),t=C(),c=new Re.a("".concat(function(){var e="https:"===document.location.protocol?"wss://":"ws://";return"localhost"===document.domain?e+"127.0.0.1:8000/ws":e+document.location.host+"/ws"}(),"/?jwt=").concat(t||"hello"),"",{maxReconnectionDelay:6e4,minReconnectionDelay:500});return{contestActs:new J(e,c),userActs:new X(e,c),submissionActs:new te(e,c),problemActs:new K(e,c),tutorialActs:new ae(e,c),store:e,ws:c}};a.a.render(Object(n.jsx)(r.a,{children:Object(n.jsx)($e,{})}),document.getElementById("root"))},61:function(e,t,c){}},[[107,1,2]]]);
//# sourceMappingURL=main.80b0d6d9.chunk.js.map