(this.webpackJsonpb12j_front=this.webpackJsonpb12j_front||[]).push([[0],{108:function(e,t,s){"use strict";s.r(t);var c=s(0),n=s(32),a=s.n(n),r=s(3),i=(s(61),s(1)),o=s.n(i),l=s(27),d=s(10),j=s(18),b=s(9),u=s(12),h=s(11),O=s(5),m=s(22),p=s(20),x=s(8),f=s.n(x),g=s(16),v=s(19),y=s.n(v),N=s(50);y.a.defaults.headers.common["x-auth-token"]=T(),y.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(console.log("Logging the error",e),alert("An unexpected error.")),Promise.reject(e)}));var S={get:y.a.get,post:y.a.post,put:y.a.put,delete:y.a.delete},w="localhost"===document.domain?"http://127.0.0.1:8000/api":document.location.protocol+"//"+document.location.host+"/api",C={contests:"/contests",submissions:"/submissions",standing:"/contests/standing",problems:"/problems",tutorials:"/tutorials",chat:"/chat",cf:"/cf",cfProblems:"cf/problems",cfStatics:"cf/statics",users:"/users",login:"/users/login",register:"/users/register",logout:"/users/logout"},I={apiKey:"AIzaSyB9n-TJY1hy49WoECQH7fZXlxA7lKI2VH4",authDomain:"b12j-mah.firebaseapp.com",databaseURL:"https://b12j-mah.firebaseio.com",projectId:"b12j-mah",storageBucket:"b12j-mah.appspot.com",messagingSenderId:"704405925886",appId:"1:704405925886:web:2066da3c25584a7ed4daaf",measurementId:"G-XE9M4QRX4J"};function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";localStorage.removeItem("token"),window.location=e}var k=function(){var e=Object(g.a)(f.a.mark((function e(t,s){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.post(w+"/login/",{username:t,password:s}).then((function(e){localStorage.setItem("token",e.data.jwt),window.location="/"})).catch((function(e){alert(e.response.data.errors)}));case 1:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();function _(){try{var e=localStorage.getItem("token");return Object(N.a)(e)}catch(t){return null}}function T(){return localStorage.getItem("token")}var E=Object(d.b)("api/callBegan"),P=Object(d.b)("api/callFailed");y.a.defaults.headers.common["x-auth-token"]=T();var L=function(e){var t=e.dispatch;return function(e){return function(){var s=Object(g.a)(f.a.mark((function s(c){var n,a,r,i,o,l,d,j,b;return f.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(c.type===E.type){s.next=2;break}return s.abrupt("return",e(c));case 2:return n=c.payload,a=n.url,r=n.method,i=n.data,o=n.onSuccess,l=n.onError,d=n.onStart,j=n.onFailed,d&&t({type:d}),e(c),s.prev=5,s.next=8,y.a.request({baseURL:w,url:a,method:r,data:i});case 8:b=s.sent,o&&t({type:o,payload:b.data}),s.next=17;break;case 12:s.prev=12,s.t0=s.catch(5),j&&t({type:j}),t(P({payload:s.t0.message})),l&&t({type:l,payload:s.t0.message});case 17:case"end":return s.stop()}}),s,null,[[5,12]])})));return function(e){return s.apply(this,arguments)}}()}},B=s(26),D=s.n(B),R=s(52),M=function(e){var t=new Date(e);return D()(t).format("D MMM YY:::H:m")},F=function(e){var t;return t={},Object(p.a)(t,"".concat(e,"Added"),(function(e,t){e.list.push(t.payload.id),e.dict[t.payload.id]=t.payload,e.loading=!1})),Object(p.a)(t,"".concat(e,"Updated"),(function(e,t){e.dict[t.payload.id]?e.dict[t.payload.id]=t.payload:(e.dict[t.payload.id]=t.payload,e.list.push(t.payload)),e.loading=!1})),Object(p.a)(t,"".concat(e,"sReceived"),(function(e,t){for(var s=t.payload.results,c=0;c<s.length;c++)e.dict[s[c].id]=s[c],e.list.push(s[c].id);e.loading=!1})),Object(p.a)(t,"".concat(e,"Requested"),(function(e){e.loading=!0})),Object(p.a)(t,"".concat(e,"RequestFailed"),(function(e){e.loading=!1})),t},U=function(e,t){var s;e.loading=!1;var c=t.payload.next;s=c?function(e){var t=Object(R.parse)(e).offset;return Math.ceil(t/20)}(c):Math.ceil(t.payload.count/20),e.fetched.push(parseInt(s)),e.list[s]=[],e.dict[s]={},e.total=Math.ceil(t.payload.count/20);for(var n=t.payload.results,a=0;a<n.length;a++)e.dict[n[a].id]=n[a],e.list[s].push(n[a].id)},q=function(){function e(t,s,c,n){var a=this;Object(b.a)(this,e),this.requestedIdQueue=[],this.start=function(){a.store.dispatch({type:a.requested.type})},this.failure=function(){a.store.dispatch({type:a.requestFailed.type})},this._load=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C["".concat(a.name,"s")]+"/";a.store.dispatch(E({url:e,onStart:a.requested.type,onSuccess:a.received.type,onFailed:a.requestFailed.type}))},this._loadById=function(e){if(-1===a.requestedIdQueue.indexOf(e)){a.requestedIdQueue.push(e);var t={method:"GET",target:a.name,id:e};a.ws.send(JSON.stringify(t)),a.start()}},this.add=function(e){var t={method:"POST",target:a.name,data:e};a.ws.send(JSON.stringify(t)),a.start()},this.edit=function(e){var t={method:"PUT",target:a.name,id:e.id,data:e};a.ws.send(JSON.stringify(t)),a.start()},this.update=function(e){a.store.dispatch({type:a.updated.type,payload:e})},this.getById=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=a.store.getState()["".concat(a.name,"s")].dict;if(t){if(s[e])return s[e][t];e&&a._loadById(e)}else if(s[e])return s[e];return e&&a._loadById(e),null};var r=t.actions;this.ws=c,this.store=s,this.name=n,this.added=r["".concat(n,"Added")],this.requestFailed=r["".concat(n,"RequestFailed")],this.requested=r["".concat(n,"Requested")],this.received=r["".concat(n,"sReceived")],this.updated=r["".concat(n,"Updated")]}return Object(m.a)(e,[{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e){for(var t=this.store.getState()["".concat(this.name,"s")].dict,s=[],c=0;c<e.length;c++)s.push(t[e[c]]);return s}}}]),e}(),J="contest",W=Object(d.c)({name:"".concat(J,"s"),initialState:Object(O.a)({},{list:[],dict:{},fetched:[],total:null,loading:!1}),reducers:Object(O.a)(Object(O.a)({},F(J)),{},{contestsReceived:function(e,t){U(e,t)}})}),V=W.reducer,H=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(e,c){var n;return Object(b.a)(this,s),(n=t.call(this,W,e,c,J))._loadContest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=n.store.getState().contests;-1!==t.fetched.indexOf(e)||t.loading||((e<1||t.total&&e>t.total)&&alert("Wrong page"),n._load("/contests/?limit=20&offset=".concat(20*(e-1))))},n.getList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return n._loadContest(e),n.list(n.store.getState().contests.list[e])},n}return s}(q),Y="problem",Q=Object(d.c)({name:"".concat(Y,"s"),initialState:Object(O.a)({},{list:[],dict:{},fetched:[],total:null,loading:!1}),reducers:Object(O.a)(Object(O.a)({},F(Y)),{},{problemsReceived:function(e,t){var s=t.payload.results;if(s.length<1)console.log("No Problems for this contest");else{var c=s[0].contest;e.loading=!1,e.fetched.push(c);for(var n=0;n<s.length;n++)e.dict[s[n].id]=s[n]}}})}),K=Q.reducer,G=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(e,c){var n;return Object(b.a)(this,s),(n=t.call(this,Q,e,c,Y))._loadProblems=function(e){var t=n.store.getState().problems;-1!==t.fetched.indexOf(e)||t.loading||n._load("/problems/?contest_id=".concat(e))},n.getList=function(e){n._loadProblems(e);var t=[],s=n.store.getState().problems.dict;for(var c in s)s[c].contest===e&&t.push(s[c]);return t},n}return s}(q),z="user",X=Object(d.c)({name:"".concat(z,"s"),initialState:Object(O.a)(Object(O.a)({},{list:[],dict:{},fetched:[],total:null,loading:!1}),{},{info:_()}),reducers:Object(O.a)(Object(O.a)({},F(z)),{},{loggedIn:function(e,t){e.info=t.payload},loggedOut:function(e){e.info=null}})}),Z=X.actions.loggedIn,$=X.reducer,ee=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(e,c){var n;return Object(b.a)(this,s),(n=t.call(this,X,e,c,z)).loadUsers=function(){n._load("/users/?limit=1000")},n.getList=function(){return n.list(n.store.getState().users.list)},n.firstName=function(e){return n.getById(e,"first_name")},n.fullName=function(e){return n.getById(e,"first_name")+" "+n.getById(e,"last_name")},n.currentUser=function(){return n.store.getState()["".concat(n.name,"s")].info},n.addUserToStore=function(){n.store.dispatch({type:Z.type,payload:_()})},n}return s}(q),te="submission",se=Object(d.c)({name:"".concat(te,"s"),initialState:Object(O.a)({},{list:[],dict:{},fetched:[],total:null,loading:!1}),reducers:Object(O.a)(Object(O.a)({},F(te)),{},{submissionsReceived:function(e,t){U(e,t)},submissionUpdated:function(e,t){!function(e,t){e.dict[t.payload.id]?e.dict[t.payload.id]=t.payload:(e.dict[t.payload.id]=t.payload,e.list[1]||(e.list[1]=[]),e.list[1]=[t.payload.id].concat(Object(l.a)(e.list[1]))),e.loading=!1}(e,t)}})}),ce=se.reducer,ne=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(e,c){var n;return Object(b.a)(this,s),(n=t.call(this,se,e,c,te))._loadSubmission=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=n.store.getState().submissions;-1!==t.fetched.indexOf(e)||t.loading||(e<1||t.total&&e>t.total?alert("Wrong page"):n._load("/submissions/?limit=20&offset=".concat(20*(e-1))))},n.getList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return n._loadSubmission(e),n.list(n.store.getState().submissions.list[e])},n.totalPages=function(){return n.store.getState()[n.name+"s"].total},n}return s}(q),ae="tutorial",re=Object(d.c)({name:"".concat(ae,"s"),initialState:Object(O.a)({},{list:[],dict:{},fetched:[],total:null,loading:!1}),reducers:Object(O.a)(Object(O.a)({},F(ae)),{},{tutorialsReceived:function(e,t){var s=t.payload.results;if(s.length<1)console.log("No tutorials for this contest");else{var c=s[0].contest;e.loading=!1,e.fetched.push(c);for(var n=0;n<s.length;n++)e.dict[s[n].id]=s[n]}}})}),ie=re.reducer,oe=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(e,c){var n;return Object(b.a)(this,s),(n=t.call(this,re,e,c,ae))._loadTutorials=function(e){var t=n.store.getState().tutorials;-1!==t.fetched.indexOf(e)||t.loading||n._load("/tutorials/?contest_id=".concat(e))},n.getList=function(e){n._loadTutorials(e);var t=[],s=n.store.getState().tutorials.dict;for(var c in s)s[c].contest===e&&t.push(s[c]);return t},n}return s}(q),le=Object(j.b)({contests:V,problems:K,submissions:ce,users:$,tutorials:ie});var de=function(){var e=Object(i.useContext)(tt).userActs.currentUser();return Object(c.jsx)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:Object(c.jsx)("div",{className:"",id:"navbarNav",children:Object(c.jsxs)("ul",{className:"navbar-nav",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsxs)(r.c,{className:"nav-link",to:"/",children:["Home ",Object(c.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(r.c,{className:"nav-link",to:"/contests",children:"Contests"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(r.c,{className:"nav-link",to:"/submissions",children:"Submission"})}),Object(c.jsxs)("li",{className:"nav-item",children:[!e&&Object(c.jsx)(r.c,{to:"/users/login",className:"nav-link",children:"Login"}),e&&Object(c.jsx)(r.c,{to:"/users/profile",className:"nav-link",children:"Profile"})]})]})})})},je=s(6),be=s(2),ue=function(){var e=Object(i.useContext)(tt),t=e.contestActs,s=e.userActs,n=Object(i.useState)(t.getList()),a=Object(be.a)(n,2),o=a[0],l=a[1];return Object(i.useEffect)((function(){t.store.subscribe((function(){l(t.getList())}))}),[]),Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Writers"}),Object(c.jsx)("th",{children:"Testers"}),Object(c.jsx)("th",{children:"Start"}),Object(c.jsx)("th",{children:"End"})]})}),Object(c.jsx)("tbody",{children:o&&o.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)(r.b,{to:"/contests/".concat(e.id),children:e.title})}),Object(c.jsx)("td",{children:e.hosts.map((function(e){return Object(c.jsx)("p",{className:"user",children:s.firstName(e)},e)}))}),Object(c.jsx)("td",{children:e.testers.map((function(e){return Object(c.jsx)("p",{className:"user",children:s.firstName(e)},e)}))}),Object(c.jsx)("td",{children:M(e.start_time)}),Object(c.jsx)("td",{children:M(e.end_time)})]},e.id)}))})]})})},he=function(e){var t=e.match.params.contestId,s=Object(i.useContext)(tt),n=s.problemActs,a=s.userActs,o=Object(i.useState)(n.getList(t)),l=Object(be.a)(o,2),d=l[0],j=l[1],b=n.store.subscribe((function(){j(n.getList(t)),b()}));return Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Writer"})]})}),Object(c.jsx)("tbody",{children:d.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)(r.b,{to:"/problems/".concat(e.id),children:e.title})}),Object(c.jsx)("td",{children:a.fullName(e.by)})]},e.id)}))})]})})},Oe=s(54),me=function(e){var t=e.match.params.contestId,s=Object(i.useContext)(tt),n=s.tutorialActs,a=s.userActs,o=Object(i.useState)(n.getList(t)),l=Object(be.a)(o,2),d=l[0],j=l[1],b=n.store.subscribe((function(){j(n.getList(t)),b()}));return Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Writer"})]})}),Object(c.jsx)("tbody",{children:d.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)(r.b,{to:"/tutorials/".concat(e.id),children:e.title})}),Object(c.jsx)("td",{children:a.fullName(e.by)})]},e.id)}))})]})})},pe=function(e){return e?{__html:"".concat(e)}:{__html:"<span />"}},xe=function(e){var t=e.text;return Object(c.jsx)("div",{dangerouslySetInnerHTML:pe(t)})},fe=(i.Component,function(e){var t=e.match,s=t.params.contestId,n=Object(i.useContext)(tt),a=n.contestActs,o=n.userActs,l=Object(i.useState)(a.getById(s)),d=Object(be.a)(l,2),j=d[0],b=d[1],u=Object(i.useState)(!1),h=Object(be.a)(u,2),O=h[0],m=h[1],p=a.store.subscribe((function(){b(a.getById(s)),m(!O),p()})),x=new Date(j&&j.start_time||Date.now().toLocaleString()),f=new Date(j&&j.end_time||Date.now().toLocaleString());return Object(c.jsxs)("div",{className:"container",children:[j&&Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{className:"text-success display-4",children:j.title}),Object(c.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(c.jsxs)("thead",{children:[Object(c.jsx)("th",{children:"Contest Writers"}),Object(c.jsx)("th",{children:"Contest Testers"})]}),Object(c.jsxs)("tbody",{children:[Object(c.jsx)("td",{children:j.hosts.map((function(e){return Object(c.jsx)("p",{className:"user",children:o.firstName(e)},e)}))}),Object(c.jsx)("td",{children:j.testers.map((function(e){return Object(c.jsx)("p",{className:"user",children:o.firstName(e)},e)}))})]})]}),j.text&&Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"About contest"}),Object(c.jsx)("div",{className:"bgAliceBlue",children:Object(c.jsx)(xe,{text:j.text})}),Object(c.jsx)("br",{})]}),Object(c.jsx)(r.b,{to:"/contests/standing/".concat(s),children:Object(c.jsx)("button",{className:"btn-lg btn-outline-success",children:"Standing"})})]}),x>Date.now()&&Object(c.jsx)("div",{className:"container",children:Object(c.jsx)(Oe.a,{date:j.start_time,className:"display-4",onComplete:function(){m(!O)}})}),x<=Date.now()&&Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Problems"}),Object(c.jsx)(he,{match:t})]}),f<=Date.now()&&Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Tutorials"}),Object(c.jsx)(me,{match:t})]})]})}),ge=w,ve=function(e){var t=e.match,s=Object(i.useContext)(tt),n=s.contestActs,a=s.userActs,r=t.params.contestId,o=Object(i.useState)([]),l=Object(be.a)(o,2),d=l[0],j=l[1],b=Object(i.useState)([]),u=Object(be.a)(b,2),h=u[0],O=u[1];Object(i.useEffect)((function(){(function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.start(),e.next=3,S.get("".concat(ge,"/standing/").concat(r));case 3:t=e.sent,n.failure(),j(t.data.during),O(t.data.after);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r]);return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h2",{children:"During Contest"}),ye(d,a,1),Object(c.jsx)("h2",{children:"After Contest"}),ye(h,a,1)]})},ye=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object(c.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Position"}),Object(c.jsx)("th",{children:"User"}),Object(c.jsx)("th",{children:"Solves"}),Object(c.jsx)("th",{children:"Penalty"})]})}),Object(c.jsx)("tbody",{children:e.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:s++}),Object(c.jsx)("td",{children:t.fullName(e[0])}),Object(c.jsx)("td",{children:e[1]}),Object(c.jsx)("td",{children:Math.floor(parseFloat(e[2])/100)})]},s)}))})]})},Ne=function(){return Object(c.jsxs)(je.c,{children:[Object(c.jsx)(je.a,{path:"/contests/standing/:contestId",component:ve}),Object(c.jsx)(je.a,{path:"/contests/:contestId",component:fe}),Object(c.jsx)(je.a,{path:C.contests,component:ue})]})},Se=function(e){var t=e.history,s=Object(i.useContext)(tt).userActs,n=Object(i.useState)(""),a=Object(be.a)(n,2),r=a[0],o=a[1],l=Object(i.useState)(""),d=Object(be.a)(l,2),j=d[0],b=d[1];Object(i.useEffect)((function(){var e=document.createElement("script");return e.type="text/javascript",e.async=!0,e.innerText=function(e){var t=window.firebaseui,s=window.firebase;s.initializeApp(I);var c=new t.auth.AuthUI(s.auth()),n={callbacks:{signInSuccessWithAuthResult:function(){return e.push("/users/loginServe"),!0}},signInFlow:"popup",signInOptions:[s.auth.GoogleAuthProvider.PROVIDER_ID,s.auth.FacebookAuthProvider.PROVIDER_ID,s.auth.GithubAuthProvider.PROVIDER_ID]};c.start("#firebaseui-auth-container",n)}(t),document.body.appendChild(e),function(){document.body.removeChild(e)}}),[]);var u=function(e){var t=e.currentTarget;"username"===t.name&&o(t.value),"password"===t.name&&b(t.value)};return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{onClick:s.start,children:Object(c.jsx)("div",{id:"firebaseui-auth-container",className:"pt-5"})}),Object(c.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(c.jsx)("button",{className:"btn btn-danger",type:"button","data-toggle":"collapse","data-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample",style:{width:"220px"},children:"Password Login"})}),Object(c.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(c.jsxs)("div",{className:"collapse",id:"collapseExample",style:{width:"220px"},children:[Object(c.jsx)("input",{type:"text",value:r,name:"username",onChange:u}),Object(c.jsx)("input",{type:"password",value:j,name:"password",onChange:u}),Object(c.jsx)("button",{className:"btn btn-success",onClick:function(){return k(r,j)},children:"Sign In"})]})})]})},we=function(){var e=Object(i.useContext)(tt).userActs,t=Object(i.useState)(e.getList()),s=Object(be.a)(t,2),n=s[0],a=s[1];return Object(i.useEffect)((function(){e.store.subscribe((function(){a(e.getList())}))})),Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("table",{className:"table table-dark table-bordered",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"User id"}),Object(c.jsx)("th",{children:"First Name"}),Object(c.jsx)("th",{children:"Last Name"})]})}),Object(c.jsx)("tbody",{children:n.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.id}),Object(c.jsx)("td",{children:e.first_name}),Object(c.jsx)("td",{children:e.last_name})]},e.id)}))})]})})},Ce=function(){var e=Object(i.useContext)(tt).problemActs,t=Object(i.useState)([]),s=Object(be.a)(t,2),n=s[0],a=s[1],o=Object(i.useState)([]),l=Object(be.a)(o,2),d=l[0],j=l[1],b=Object(i.useState)([]),u=Object(be.a)(b,2),h=u[0],O=u[1],m=Object(i.useState)([]),p=Object(be.a)(m,2),x=p[0],v=p[1];return Object(i.useEffect)((function(){(function(){var t=Object(g.a)(f.a.mark((function t(){var s,c,n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.start(),t.next=3,S.get("".concat(w,"/problems/user_problems/"));case 3:return s=t.sent,t.next=6,S.get("".concat(w,"/submissions/user_submissions/"));case 6:return c=t.sent,t.next=9,S.get("".concat(w,"/contests/user_contests/"));case 9:return n=t.sent,t.next=12,S.get("".concat(w,"/problems/test_problems/"));case 12:r=t.sent,e.failure(),a(s.data.results),j(c.data.results),O(n.data.results),v(r.data.results);case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(c.jsxs)("div",{className:"container pt-5",children:[Object(c.jsx)("button",{className:"btn btn-danger",onClick:function(){return A("/")},children:"Logout"}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-sm",children:[Object(c.jsx)("b",{children:"Contest set by you"}),Object(c.jsxs)("table",{className:"table table-striped table-bordered",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Title"}),Object(c.jsx)("th",{})]})}),Object(c.jsx)("tbody",{children:h.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)(r.b,{to:"/contests/".concat(e.id),children:e.title})}),Object(c.jsx)("td",{children:Object(c.jsx)(r.b,{to:"/problems/add/".concat(e.id),className:"btn-sm btn-success",children:"Add problem"})})]},e.id)}))})]})]}),Object(c.jsxs)("div",{className:"col-sm",children:[Object(c.jsx)("b",{children:"Testable problem for you"}),Object(c.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Title"}),Object(c.jsx)("th",{children:"Contest"})]})}),Object(c.jsx)("tbody",{children:x.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)(r.b,{to:"/problems/".concat(e.id),children:e.title})}),Object(c.jsx)("td",{children:e.contest})]},e.id)}))})]})]})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-sm",children:[Object(c.jsx)("b",{children:"Last 20 Problem set by you"}),Object(c.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Title"}),Object(c.jsx)("th",{children:"Contest"})]})}),Object(c.jsx)("tbody",{children:n.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)(r.b,{to:"/problems/".concat(e.id),children:e.title})}),Object(c.jsx)("td",{children:e.contest})]},e.id)}))})]})]}),Object(c.jsxs)("div",{className:"col-sm",children:[Object(c.jsx)("b",{children:"Last 20 submissions by you"}),Object(c.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Contest"}),Object(c.jsx)("th",{children:"Problem"}),Object(c.jsx)("th",{children:"Verdict"})]})}),Object(c.jsx)("tbody",{children:d.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.contest}),Object(c.jsx)("td",{children:e.problem}),Object(c.jsx)("td",{children:Object(c.jsx)(r.b,{to:"/submissions/".concat(e.id),children:e.verdict})})]},e.id)}))})]})]})]})]})},Ie=s(24),Ae=s.n(Ie),ke=function(){return function(){var e=Object(g.a)(f.a.mark((function e(){var t,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.firebase,e.next=3,t.auth().currentUser.getIdToken(!0);case 3:return s=e.sent,e.next=6,S.post(w+"/login/",{idToken:s});case 6:c=e.sent,localStorage.setItem("token",c.data.jwt),window.location="/";case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Checking credentials"}),Object(c.jsx)(Ae.a,{isOpen:!0,className:"Modal",children:Object(c.jsx)("div",{className:"loader align-middle"})})]})},_e=function(){return Object(c.jsxs)(je.c,{children:[Object(c.jsx)(je.a,{path:C.login,component:Se}),Object(c.jsx)(je.a,{path:"/users/profile",component:Ce}),Object(c.jsx)(je.a,{path:"/users/list",component:we}),Object(c.jsx)(je.a,{path:"/users/loginServe",component:ke})]})},Te=function(e){var t=e.mode,s=e.theme,n=e.font,a=e.name,r=e.value,l=e.label,d=e.onChange,j=function(){var e=window.ace,c=e.edit(a);c.session.setMode("ace/mode/"+t),c.setTheme("ace/theme/"+s),c.getSession().setUseWorker(!0),c.setValue(r),c.clearSelection(),c.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),c.setFontSize(n+"px"),c.commands.addCommand({name:"showKeyboardShortcuts",bindKey:{win:"Ctrl-h",mac:"Command-Alt-h"},exec:function(t){e.config.loadModule("ace/ext/keybinding_menu",(function(e){e.init(t),t.showKeyboardShortcuts()}))}}),c.getSession().on("change",(function(){var e;e=c.getSession().getValue(),d({currentTarget:{name:a,value:e}})}))};return Object(i.useEffect)((function(){var e=document.createElement("script");return e.type="text/javascript",e.innerText=j(),document.body.appendChild(e),function(){document.body.removeChild(e)}}),[n,t,a,s]),Object(c.jsxs)(o.a.Fragment,{children:[Object(c.jsx)("label",{htmlFor:a,children:Object(c.jsx)("h3",{children:l})}),Object(c.jsx)("div",{id:a,style:{height:"300px",width:"100%"}})]})},Ee=function(e){var t=e.problem,s=e.history,n=Object(i.useContext)(tt).submissionActs,a=Object(i.useState)(""),r=Object(be.a)(a,2),o=r[0],l=r[1],d=Object(i.useState)("python"),j=Object(be.a)(d,2),b=j[0],u=j[1],h=Object(i.useState)("chrome"),O=Object(be.a)(h,2),m=O[0],p=O[1],x=Object(i.useState)(15),v=Object(be.a)(x,2),y=v[0],N=v[1],C=_(),I=function(e){var s=e.currentTarget,c=s.name,n=s.value;"language"===c?("c_cpp"===n&&""===o&&l("#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nint main() {\n\t\n}"),u(n)):c===t.id?l(n):"theme"===c?p(n):"font"===c&&N(n)},A=function(){var e=Object(g.a)(f.a.mark((function e(){var c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o.length<10)){e.next=3;break}return alert("Your code is less than 10 character. If you're pasting code then please press space or any key after paste."),e.abrupt("return");case 3:if("python"===b||"c_cpp"===b){e.next=6;break}return alert("Please choose correct language"),e.abrupt("return");case 6:return c={code:o,language:b,problem:t.id},n.start(),e.prev=8,e.next=11,S.post(w+"/submissions/",c);case 11:a=e.sent,n.failure(),s.push("/submissions/".concat(a.data.id)),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(8),n.failure(),e.t0.response&&403===e.t0.response.status?window.location.reload():e.t0.response?(console.log("This is the error reason. Please send it to Mahmudul",e.t0.response),alert("Tell this to Mahmudul: code: ".concat(e.t0.response.status))):(console.log(e.t0),alert("Couldn't submit. Sometimes server is causing this error. Check your console"));case 20:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"row pr-3 pl-3",children:[Object(c.jsxs)("select",{className:"custom-select col-4",name:"language",onChange:I,children:[Object(c.jsx)("option",{value:"python",children:"Python3"}),Object(c.jsx)("option",{value:"c_cpp",children:"C/C++"})]}),Object(c.jsxs)("select",{className:"custom-select col-4",name:"theme",id:"theme",onChange:I,children:[Object(c.jsx)("option",{value:"chrome",children:"White"}),Object(c.jsx)("option",{value:"gob",children:"Dark"})]}),Object(c.jsxs)("select",{className:"custom-select col-4",name:"font",id:"font",onChange:I,children:[Object(c.jsx)("option",{value:"15",children:"15px"}),Object(c.jsx)("option",{value:"12",children:"12px"}),Object(c.jsx)("option",{value:"18",children:"18px"}),Object(c.jsx)("option",{value:"20",children:"20px"})]})]}),Object(c.jsx)(Te,{mode:b,value:o,theme:m,onChange:I,name:t.id,font:y}),!C&&Object(c.jsx)("div",{className:"alert alert-danger",children:"Please login to submit"}),Object(c.jsx)("button",{disabled:!C,className:"btn btn-success",onClick:A,children:"Submit"})]})},Pe=function(e){var t=e.match,s=e.history,n=Object(i.useContext)(tt),a=n.problemActs,o=n.userActs,l=t.params.problemId,d=Object(i.useState)(a.getById(l)),j=Object(be.a)(d,2),b=j[0],u=j[1],h=Object(i.useState)(!1),O=Object(be.a)(h,2),m=O[0],p=O[1];a.store.subscribe((function(){u(a.getById(l)),p(!m)}));var x=_()&&_().id,f=_()&&_().is_superuser;return Object(i.useEffect)((function(){u(a.getById(l))}),[l]),b&&Object(c.jsxs)("div",{className:"container",children:[(x===b.by||f)&&Object(c.jsx)(r.b,{to:"/problems/edit/".concat(b.id),children:Object(c.jsx)("button",{className:"btn-lg btn-success",children:"Edit"})}),Object(c.jsxs)("div",{className:"bgDarkBlue",children:[Object(c.jsx)("h1",{children:b.title}),Object(c.jsxs)("h3",{children:["By ",Object(c.jsx)("span",{className:"user",children:o.fullName(b.by)})]})]}),Object(c.jsxs)("div",{className:"bgAliceBlue",children:[Object(c.jsx)("div",{className:"alert alert-info",children:b.notice}),Object(c.jsx)("h4",{children:"Problem statement"}),Object(c.jsx)(xe,{text:b.text})," ",Object(c.jsx)("br",{}),Object(c.jsx)("h4",{children:"Input Terms"}),Object(c.jsx)(xe,{text:b.inTerms})," ",Object(c.jsx)("br",{}),Object(c.jsx)("h4",{children:"Output Terms"}),Object(c.jsx)(xe,{text:b.outTerms})," ",Object(c.jsx)("br",{})]}),Object(c.jsxs)("table",{className:"table table-bordered",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Input"}),Object(c.jsx)("th",{children:"Output"})]})}),Object(c.jsx)("tbody",{children:b.test_cases.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("pre",{children:e.input})}),Object(c.jsx)("td",{children:Object(c.jsx)("pre",{children:e.output})})]},Math.floor(1e3*Math.random()))}))})]}),Object(c.jsx)(Ee,{problem:b,history:s}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{})]})},Le=function(e){var t=e.onChange,s=e.name,n=void 0===s?"testEditor":s,a=e.label,r=void 0===a?"Hello editor":a,o=e.value,l=void 0===o?"":o,d=window.Quill,j=function(){var e=new d("#"+n,{theme:"snow",modules:{toolbar:{container:[["bold","italic","underline","strike"],["blockquote","code-block"],["link","image"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}]],handlers:{image:function(){return function(e){var t=e.getSelection(),s=prompt("please copy paste the image url here.");s&&e.insertEmbed(t.index,"image",s,d.sources.USER)}(e)}}}}});e.container.firstChild.innerHTML=l,e.on("text-change",(function(){var s;s=e.container.firstChild.innerHTML,t({currentTarget:{name:n,value:s}})}))};return Object(i.useEffect)((function(){var e=document.createElement("script");return e.type="text/javascript",e.async=!0,e.innerText=j(),document.body.appendChild(e),function(){document.body.removeChild(e)}}),[]),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:n,children:Object(c.jsx)("h3",{children:r})}),Object(c.jsx)("div",{id:n})]})},Be=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(b.a)(this,s);for(var c=arguments.length,n=new Array(c),a=0;a<c;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={value:e.props.value},e}return Object(m.a)(s,[{key:"render",value:function(){var e=this,t=this.props,s=t.name,n=t.label,a=t.error,r=t.type,i=t.onChange,o=t.placeholder;return Object(c.jsxs)("div",{className:"form-group",children:[n&&Object(c.jsx)("label",{htmlFor:"{name}",children:Object(c.jsx)("h3",{children:n})}),Object(c.jsx)("input",{type:r,value:this.state.value,onChange:function(t){i(t),e.setState({value:t.currentTarget.value})},id:s,name:s,className:"form-control",autoComplete:"off",placeholder:o}),Object(c.jsx)("p",{children:Object(c.jsx)("small",{})}),a&&Object(c.jsx)("div",{className:"alert alert-danger",children:a})]})}}]),s}(i.Component);Be.defaultProps={type:"text",placeholder:"Input here"};var De=Be,Re=function(e){var t=e.match,s=e.history,n=t.params,a=n.contestId,r=n.problemId,o=Object(i.useContext)(tt),l=o.problemActs,d=o.contestActs,j=Object(i.useState)(l.getById(r)),b=Object(be.a)(j,1)[0],u=Object(i.useState)(d.getById(a)),h=Object(be.a)(u,1)[0],m={};m=b?Object(O.a)({},b):{contest_id:a,inTerms:"input Terms",outTerms:"output Terms",text:"statement",title:"problem title",corCode:"",conProbId:"A",notice:"nothing",time_limit:1,examples:1};var p=function(e){var t=e.currentTarget,s=t.name,c=t.value;m[s]=c};return Object(c.jsxs)("div",{className:"container pt-5",children:[h&&Object(c.jsx)("h1",{className:"text-info",children:h.title}),Object(c.jsx)(De,{label:"Problem name",name:"title",value:m.title,onChange:p}),Object(c.jsx)(Le,{label:"Problem Statement",name:"text",value:m.text,onChange:p}),Object(c.jsx)(Le,{label:"Input Terms",name:"inTerms",value:m.inTerms,onChange:p}),Object(c.jsx)(Le,{label:"Output Terms",name:"outTerms",value:m.outTerms,onChange:p}),Object(c.jsx)(De,{label:"Problem id",placeholder:"A",name:"conProbId",value:m.conProbId,onChange:p}),Object(c.jsx)(Te,{mode:"c_cpp",value:m.corCode,theme:"chrome",onChange:p,name:"corCode",font:20}),Object(c.jsxs)("div",{className:"bg-light",children:[Object(c.jsx)("h3",{className:"text-info",children:"Everything below are optional. You don't need to change."}),Object(c.jsx)(Le,{label:"Notice",name:"notice",value:m.notice,onChange:p}),Object(c.jsx)(De,{label:"Time Limit",name:"time_limit",value:m.time_limit,type:"number",onChange:p}),Object(c.jsx)(De,{label:"Number of example",name:"examples",value:m.examples,type:"number",onChange:p})]}),Object(c.jsx)("button",{className:"btn-lg btn-success",onClick:function(){b?(l.edit(m),s.push("/problems/".concat(b.id))):(l.add(m),s.push("/users/profile"))},children:"Submit"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{})]})},Me=function(){return Object(c.jsxs)(je.c,{children:[Object(c.jsx)(je.a,{path:"/problems/contestId=:contestId",component:he}),Object(c.jsx)(je.a,{path:"/problems/add/:contestId",component:Re}),Object(c.jsx)(je.a,{path:"/problems/edit/:problemId",component:Re}),Object(c.jsx)(je.a,{path:"/problems/:problemId",component:Pe})]})},Fe=function(){var e=Object(i.useContext)(tt).userActs.store,t=Object(i.useState)(!!e.getState().problems.loading),s=Object(be.a)(t,2),n=s[0],a=s[1],r=Object(i.useState)(!!e.getState().users.loading),o=Object(be.a)(r,2),l=o[0],d=o[1],j=Object(i.useState)(!!e.getState().contests.loading),b=Object(be.a)(j,2),u=b[0],h=b[1],O=Object(i.useState)(!!e.getState().submissions.loading),m=Object(be.a)(O,2),p=m[0],x=m[1];e.subscribe((function(){a(!!e.getState().problems.loading),d(!!e.getState().users.loading),h(!!e.getState().contests.loading),x(!!e.getState().submissions.loading)})),Object(i.useEffect)((function(){Ae.a.setAppElement("body")}),[]);var f=n||l||u||p;return Object(c.jsx)(Ae.a,{isOpen:f,className:"Modal",children:Object(c.jsx)("div",{className:"loader align-middle"})})},Ue=s(55),qe=function(e){var t=e.match,s=parseInt(t.params.page)||1,n=Object(i.useContext)(tt),a=n.submissionActs,o=n.userActs,l=Object(i.useState)(a.getList(s)),d=Object(be.a)(l,2),j=d[0],b=d[1],u=Object(i.useState)(!1),h=Object(be.a)(u,2),O=h[0],m=h[1],p=a.store.subscribe((function(){b(a.getList(s)),p(),m(!O)}));Object(i.useEffect)((function(){b(a.getList(s))}),[s]);var x=a.totalPages();return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Problem"}),Object(c.jsx)("th",{children:"Verdict"}),Object(c.jsx)("th",{children:"By"})]})}),Object(c.jsx)("tbody",{children:j.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)(r.b,{to:"/submissions/".concat(e.id),children:e.problem_title})}),Object(c.jsx)("td",{children:e.verdict}),Object(c.jsx)("td",{children:o.firstName(e.by)})]},e.id)}))})]}),Je("/submissions/page=",x,s)]})},Je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=[];if(s>2)for(var a=s-2;a<=t&&a<=s+2;a++)n.push(a);else for(var i=1;i<=t&&i<=5;i++)n.push(i);return Object(c.jsx)("ul",{className:"pagination",children:n.map((function(t){return Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)(r.b,{className:"page-link",to:e+t.toString(),children:t})},t)}))})},We=function(e){var t=e.match.params.submissionId,s=Object(i.useContext)(tt),n=s.submissionActs,a=s.userActs,r=s.contestActs,o=s.problemActs,l=Object(i.useState)(n.getById(t)),d=Object(be.a)(l,2),j=d[0],b=d[1],u=Object(i.useState)(r.getById(j&&j.contest)),h=Object(be.a)(u,2),O=h[0],m=h[1],p=Object(i.useState)(!1),x=Object(be.a)(p,2),f=x[0],g=x[1],v=n.store.subscribe((function(){b(n.getById(t)),m(r.getById(j&&j.contest)),v(),g(!f)})),y=new Date(O&&O.end_time||Date.now().toLocaleString()),N=_()&&_().id;return Object(c.jsx)("div",{className:"container",children:j&&Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsxs)("h5",{children:["Submitter: ",a.fullName(j.by)]})}),Object(c.jsx)("div",{children:Object(c.jsxs)("h5",{children:["Contest: ",r.getById(j.contest,"title")]})}),Object(c.jsx)("div",{children:Object(c.jsxs)("h5",{children:["Problem: ",o.getById(j.problem,"title")]})}),Object(c.jsx)("div",{children:Object(c.jsxs)("h5",{className:"text-nowrap",children:["Verdict: ",He(j.verdict)]})}),O&&Object(c.jsxs)("div",{children:[(y<=Date.now()||j.by===N)&&Object(c.jsxs)("span",{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("h5",{children:"Your Code:"}),Object(c.jsx)("pre",{className:"bg-light text-primary",children:j.code})]}),Ve(j.details,j.verdict)]}),y>Date.now()&&j.by!==N&&Object(c.jsx)("h2",{className:"text-danger",children:"You can't see full info during contest"})]})]})})},Ve=function(e,t){var s=JSON.parse(e);if(s)return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsxs)("h5",{children:["Message: ",Object(c.jsx)("pre",{children:s[0]})]})}),"CE"!==t&&Object(c.jsxs)("table",{className:"table table-bordered table-responsive",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"Input"}),Object(c.jsx)("td",{children:"Output"}),Object(c.jsx)("td",{children:"Correct Output"})]})}),Object(c.jsx)("tbody",{children:s[1].map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("pre",{children:e[0]})}),Object(c.jsx)("td",{children:Object(c.jsx)("pre",{children:e[1]})}),Object(c.jsx)("td",{children:Object(c.jsx)("pre",{children:e[2]})})]})}))})]})]})},He=function(e){return"AC"===e?Object(c.jsx)("span",{className:"text-success",children:"Accepted"}):"WA"===e?Object(c.jsx)("span",{className:"text-danger",children:"Wrong Answer"}):"CE"===e?Object(c.jsx)("span",{className:"text-danger",children:"Compilation Error"}):"TLE"===e?Object(c.jsx)("span",{className:"text-danger",children:"Time Limit Exceed"}):"PJ"===e?Object(c.jsx)("span",{className:"text-info",children:"Judging. May take upto minute"}):"FJ"===e?Object(c.jsx)("span",{className:"text-danger",children:"Failed. Judges are offline"}):Object(c.jsx)("span",{children:"Unknown verdict"})},Ye=function(){return Object(c.jsxs)(je.c,{children:[Object(c.jsx)(je.a,{path:"/submissions/page=:page",component:qe}),Object(c.jsx)(je.a,{path:"/submissions/:submissionId",component:We}),Object(c.jsx)(je.a,{path:"/submissions",component:qe})]})},Qe=function(e,t){e.update(t)},Ke=function(e,t){e.update(t)},Ge=function(e,t){e.update(t)},ze=function(e,t){e.update(t)},Xe=function(e,t){e.update(t)},Ze=function(){var e=Object(i.useContext)(tt),t=e.ws,s=e.contestActs,n=e.problemActs,a=e.submissionActs,r=e.userActs,o=e.tutorialActs;return t.addEventListener("message",(function(e){var t=JSON.parse(e.data).data;"contest"===t.target&&Qe(s,t),"problem"===t.target&&Ke(n,t),"submission"===t.target&&Ge(a,t),"user"===t.target&&ze(r,t),"tutorial"===t.target&&Xe(o,t)})),Object(c.jsx)("span",{})},$e=function(e){var t=e.match,s=Object(i.useContext)(tt),n=s.tutorialActs,a=s.userActs,r=t.params.tutorialId,o=Object(i.useState)(n.getById(r)),l=Object(be.a)(o,2),d=l[0],j=l[1],b=Object(i.useState)(!1),u=Object(be.a)(b,2),h=u[0],O=u[1];return n.store.subscribe((function(){j(n.getById(r)),O(!h)})),Object(i.useEffect)((function(){j(n.getById(r))}),[r]),Object(c.jsxs)("div",{children:[d&&Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"bgDarkBlue",children:[Object(c.jsx)("h1",{children:d.title}),Object(c.jsxs)("h3",{children:["By ",a.fullName(d.by)]})]}),Object(c.jsx)("div",{className:"bgAliceBlue",children:Object(c.jsx)(xe,{text:d.text})})]}),!d&&Object(c.jsx)("h1",{children:"Loading"})]})},et=function(){return Object(c.jsx)("div",{children:Object(c.jsxs)(je.c,{children:[Object(c.jsx)(je.a,{path:"/tutorials/contestId=:contestId",component:me}),Object(c.jsx)(je.a,{path:"/tutorials/:tutorialId",component:$e})]})})},tt=o.a.createContext(),st=function(){var e=ct();return Object(i.useEffect)((function(){e.userActs.loadUsers(),T()&&S.get(w+"/login_check/").then((function(e){e.data.status||A()}))}),[]),Object(c.jsx)(tt.Provider,{value:e,children:Object(c.jsxs)("div",{children:[Object(c.jsx)(Fe,{}),Object(c.jsx)(de,{}),Object(c.jsx)(Ze,{}),Object(c.jsxs)(je.c,{children:[Object(c.jsx)(je.a,{path:C.contests,component:Ne}),Object(c.jsx)(je.a,{path:C.problems,component:Me}),Object(c.jsx)(je.a,{path:C.submissions,component:Ye}),Object(c.jsx)(je.a,{path:C.tutorials,component:et}),Object(c.jsx)(je.a,{path:C.user,component:_e})]})]})})},ct=function(){var e=Object(d.a)({reducer:le,middleware:[].concat(Object(l.a)(Object(d.d)()),[L])}),t=T(),s=new Ue.a("".concat(function(){var e="https:"===document.location.protocol?"wss://":"ws://";return"localhost"===document.domain?e+"127.0.0.1:8000/ws":e+document.location.host+"/ws"}(),"/?jwt=").concat(t||"hello"),"",{maxReconnectionDelay:6e4,minReconnectionDelay:500});return{contestActs:new H(e,s),userActs:new ee(e,s),submissionActs:new ne(e,s),problemActs:new G(e,s),tutorialActs:new oe(e,s),store:e,ws:s}};a.a.render(Object(c.jsx)(r.a,{children:Object(c.jsx)(st,{})}),document.getElementById("root"))},61:function(e,t,s){}},[[108,1,2]]]);
//# sourceMappingURL=main.f8783b65.chunk.js.map