(this.webpackJsonpb12j_front=this.webpackJsonpb12j_front||[]).push([[0],{109:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s(32),n=s.n(c),r=s(2),i=(s(61),s(1)),o=s.n(i),l=s(12),d=s.n(l),u=s(19),j=s(51),b=s(18),h=s.n(b);h.a.defaults.headers.common["x-auth-token"]=y(),h.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(console.log("Logging the error",e),alert("An unexpected error.")),Promise.reject(e)}));var m={get:h.a.get,post:h.a.post,put:h.a.put,delete:h.a.delete},O="localhost"===document.domain?"http://127.0.0.1:8000":document.location.protocol+"//"+document.location.host,p=O+"/api",x={contests:"/contests",submissions:"/submissions",standing:"/contests/standing",problems:"/problems",tutorials:"/tutorials",chat:"/chat",cf:"/cf",cfProblems:"cf/problems",cfStatics:"cf/statics",users:"/users",login:"/users/login",register:"/users/register",logout:"/users/logout"},f={apiKey:"AIzaSyB9n-TJY1hy49WoECQH7fZXlxA7lKI2VH4",authDomain:"b12j-mah.firebaseapp.com",databaseURL:"https://b12j-mah.firebaseio.com",projectId:"b12j-mah",storageBucket:"b12j-mah.appspot.com",messagingSenderId:"704405925886",appId:"1:704405925886:web:2066da3c25584a7ed4daaf",measurementId:"G-XE9M4QRX4J"};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";localStorage.removeItem("token"),window.location=e}var g=function(){var e=Object(u.a)(d.a.mark((function e(t,s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.post(O+"/login/",{username:t,password:s}).then((function(e){localStorage.setItem("token",e.data.jwt),window.location="/"})).catch((function(e){alert(e.response.data.errors)}));case 1:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();function N(){try{var e=localStorage.getItem("token");return Object(j.a)(e)}catch(t){return null}}function y(){return localStorage.getItem("token")}var w=s(27),S=s(9),I=s(17),k=s(8),_=s(11),A=s(10),C=s(5),D=s(22),T=s(20),P=Object(S.b)("api/callBegan"),R=Object(S.b)("api/callFailed");h.a.defaults.headers.common["x-auth-token"]=y();var L=function(e){var t=e.dispatch;return function(e){return function(){var s=Object(u.a)(d.a.mark((function s(a){var c,n,r,i,o,l,u,j,b;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(a.type===P.type){s.next=2;break}return s.abrupt("return",e(a));case 2:return c=a.payload,n=c.url,r=c.method,i=c.data,o=c.onSuccess,l=c.onError,u=c.onStart,j=c.onFailed,u&&t({type:u}),e(a),s.prev=5,s.next=8,h.a.request({baseURL:p,url:n,method:r,data:i});case 8:b=s.sent,o&&t({type:o,payload:b.data}),s.next=17;break;case 12:s.prev=12,s.t0=s.catch(5),j&&t({type:j}),t(R({payload:s.t0.message})),l&&t({type:l,payload:s.t0.message});case 17:case"end":return s.stop()}}),s,null,[[5,12]])})));return function(e){return s.apply(this,arguments)}}()}},E=s(25),B=s.n(E),F=s(53),U=function(e){var t=new Date(e);return B()(t).format("D MMM YY:::H:m")},q=function(e){var t;return t={},Object(T.a)(t,"".concat(e,"Added"),(function(e,t){e.list.push(t.payload.id),e.dict[t.payload.id]=t.payload,e.loading=!1})),Object(T.a)(t,"".concat(e,"Updated"),(function(e,t){e.dict[t.payload.id]?e.dict[t.payload.id]=t.payload:(e.dict[t.payload.id]=t.payload,e.list.push(t.payload)),e.loading=!1})),Object(T.a)(t,"".concat(e,"sReceived"),(function(e,t){var s=t.payload.results;if(s)for(var a=0;a<s.length;a++)e.dict[s[a].id]=s[a],e.list.push(s[a].id);e.loading=!1})),Object(T.a)(t,"".concat(e,"Requested"),(function(e){e.loading=!0})),Object(T.a)(t,"".concat(e,"RequestFailed"),(function(e){e.loading=!1})),t},M=function(e,t){var s;e.loading=!1;var a=t.payload.next;s=a?function(e){var t=Object(F.parse)(e).offset;return Math.ceil(t/20)}(a):Math.ceil(t.payload.count/20),e.fetched.push(parseInt(s)),e.list[s]=[],e.dict[s]={},e.total=Math.ceil(t.payload.count/20);for(var c=t.payload.results,n=0;n<c.length;n++)e.dict[c[n].id]=c[n],e.list[s].push(c[n].id)},J=function(){function e(t,s,a,c){var n=this;Object(k.a)(this,e),this.requestedIdQueue=[],this.start=function(){n.store.dispatch({type:n.requested.type})},this.failure=function(){n.store.dispatch({type:n.requestFailed.type})},this._load=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x["".concat(n.name,"s")]+"/";n.store.dispatch(P({url:e,onStart:n.requested.type,onSuccess:n.received.type,onFailed:n.requestFailed.type}))},this._loadById=function(e){if(-1===n.requestedIdQueue.indexOf(e)){n.requestedIdQueue.push(e);var t={method:"GET",target:n.name,id:e,id_token:y()};n.ws.send(JSON.stringify(t)),n.start()}},this.add=function(e){var t={method:"POST",target:n.name,data:e,id_token:y()};n.ws.send(JSON.stringify(t)),n.start()},this.edit=function(e){var t={method:"PUT",target:n.name,id:e.id,data:e,id_token:y()};n.ws.send(JSON.stringify(t)),n.start()},this.update=function(e){n.store.dispatch({type:n.updated.type,payload:e})},this.getById=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=n.store.getState()["".concat(n.name,"s")].dict;if(t){if(s[e])return s[e][t];e&&n._loadById(e)}else if(s[e])return s[e];return e&&n._loadById(e),null};var r=t.actions;this.ws=a,this.store=s,this.name=c,this.added=r["".concat(c,"Added")],this.requestFailed=r["".concat(c,"RequestFailed")],this.requested=r["".concat(c,"Requested")],this.received=r["".concat(c,"sReceived")],this.updated=r["".concat(c,"Updated")]}return Object(D.a)(e,[{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e){for(var t=this.store.getState()["".concat(this.name,"s")].dict,s=[],a=0;a<e.length;a++)s.push(t[e[a]]);return s}}}]),e}(),W="contest",H=Object(S.c)({name:"".concat(W,"s"),initialState:Object(C.a)({},{list:[],dict:{},fetched:[],total:null,loading:!1}),reducers:Object(C.a)(Object(C.a)({},q(W)),{},{contestsReceived:function(e,t){M(e,t)}})}),Q=H.reducer,G=function(e){Object(_.a)(s,e);var t=Object(A.a)(s);function s(e,a){var c;return Object(k.a)(this,s),(c=t.call(this,H,e,a,W))._loadContest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=c.store.getState().contests;-1!==t.fetched.indexOf(e)||t.loading||((e<1||t.total&&e>t.total)&&alert("Wrong page"),c._load("/contests/?limit=20&offset=".concat(20*(e-1))))},c.getList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return c._loadContest(e),c.list(c.store.getState().contests.list[e])},c}return s}(J),V="problem",Y=Object(S.c)({name:"".concat(V,"s"),initialState:Object(C.a)({},{list:[],dict:{},fetched:[],total:null,loading:!1}),reducers:Object(C.a)(Object(C.a)({},q(V)),{},{problemsReceived:function(e,t){var s=t.payload.results;if(s.length<1)console.log("No Problems for this contest");else{var a=s[0].contest;e.loading=!1,e.fetched.push(a);for(var c=0;c<s.length;c++)e.dict[s[c].id]=s[c]}}})}),X=Y.reducer,z=function(e){Object(_.a)(s,e);var t=Object(A.a)(s);function s(e,a){var c;return Object(k.a)(this,s),(c=t.call(this,Y,e,a,V))._loadProblems=function(e){var t=c.store.getState().problems;-1!==t.fetched.indexOf(e)||t.loading||c._load("/problems/?contest_id=".concat(e))},c.getList=function(e){c._loadProblems(e);var t=[],s=c.store.getState().problems.dict;for(var a in s)s[a].contest===e&&t.push(s[a]);return t},c}return s}(J),K="user",Z=Object(S.c)({name:"".concat(K,"s"),initialState:Object(C.a)(Object(C.a)({},{list:[],dict:{},fetched:[],total:null,loading:!1}),{},{info:N()}),reducers:Object(C.a)(Object(C.a)({},q(K)),{},{loggedIn:function(e,t){e.info=t.payload},loggedOut:function(e){e.info=null}})}),$=Z.actions.loggedIn,ee=Z.reducer,te=function(e){Object(_.a)(s,e);var t=Object(A.a)(s);function s(e,a){var c;return Object(k.a)(this,s),(c=t.call(this,Z,e,a,K)).loadUsers=function(){c._load("/users/?limit=1000")},c.getList=function(){return c.list(c.store.getState().users.list)},c.firstName=function(e){return c.getById(e,"first_name")},c.fullName=function(e){return c.getById(e,"first_name")||c.getById(e,"last_name")?c.getById(e,"first_name")+" "+c.getById(e,"last_name"):c.getById(e,"username")},c.currentUser=function(){return c.store.getState()["".concat(c.name,"s")].info},c.addUserToStore=function(){c.store.dispatch({type:$.type,payload:N()})},c}return s}(J),se="submission",ae=Object(S.c)({name:"".concat(se,"s"),initialState:Object(C.a)({},{list:[],dict:{},fetched:[],total:null,loading:!1}),reducers:Object(C.a)(Object(C.a)({},q(se)),{},{submissionsReceived:function(e,t){M(e,t)},submissionUpdated:function(e,t){!function(e,t){e.dict[t.payload.id]?e.dict[t.payload.id]=t.payload:(e.dict[t.payload.id]=t.payload,e.list[1]||(e.list[1]=[]),e.list[1]=[t.payload.id].concat(Object(w.a)(e.list[1]))),e.loading=!1}(e,t)}})}),ce=ae.reducer,ne=function(e){Object(_.a)(s,e);var t=Object(A.a)(s);function s(e,a){var c;return Object(k.a)(this,s),(c=t.call(this,ae,e,a,se))._loadSubmission=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=c.store.getState().submissions;-1!==t.fetched.indexOf(e)||t.loading||(e<1||t.total&&e>t.total?alert("Wrong page"):c._load("/submissions/?limit=20&offset=".concat(20*(e-1))))},c.getList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return c._loadSubmission(e),c.list(c.store.getState().submissions.list[e])},c.submissionDetails=function(e){var t=c.getById(e);if(t){if(t.details)return t.details;c._loadById(e)}return null},c.totalPages=function(){return c.store.getState()[c.name+"s"].total},c}return s}(J),re="tutorial",ie=Object(S.c)({name:"".concat(re,"s"),initialState:Object(C.a)({},{list:[],dict:{},fetched:[],total:null,loading:!1}),reducers:Object(C.a)(Object(C.a)({},q(re)),{},{tutorialsReceived:function(e,t){var s=t.payload.results;if(s.length<1)console.log("No tutorials for this contest");else{var a=s[0].contest;e.loading=!1,e.fetched.push(a);for(var c=0;c<s.length;c++)e.dict[s[c].id]=s[c]}}})}),oe=ie.reducer,le=function(e){Object(_.a)(s,e);var t=Object(A.a)(s);function s(e,a){var c;return Object(k.a)(this,s),(c=t.call(this,ie,e,a,re))._loadTutorials=function(e){var t=c.store.getState().tutorials;-1!==t.fetched.indexOf(e)||t.loading||c._load("/tutorials/?contest_id=".concat(e))},c.getList=function(e){c._loadTutorials(e);var t=[],s=c.store.getState().tutorials.dict;for(var a in s)s[a].contest===e&&t.push(s[a]);return t},c}return s}(J),de=Object(I.b)({contests:Q,problems:X,submissions:ce,users:ee,tutorials:oe});var ue=s(54),je=o.a.createContext(),be=function(e,t){e.update(t)},he=function(e,t){e.update(t)},me=function(e,t){e.update(t)},Oe=function(e,t){e.update(t)},pe=function(e,t){e.update(t)},xe=function(){var e=Object(i.useContext)(je),t=e.ws,s=e.contestActs,c=e.problemActs,n=e.submissionActs,r=e.userActs,o=e.tutorialActs;return t.addEventListener("message",(function(e){var a=JSON.parse(e.data).data;"contest"===a.target&&be(s,a),"problem"===a.target&&he(c,a),"submission"===a.target&&me(n,a),"user"===a.target&&Oe(r,a),"tutorial"===a.target&&pe(o,a),"login"===a.target&&t.send(JSON.stringify({token_id:y()||"Blank"}))})),Object(a.jsx)("span",{})},fe=s(3),ve=(s(95),"regular"!==localStorage.getItem("theme")),ge={heading4:ve?"bi-heading4 text-center":"",navbar:ve?"navbar navbar-expand-lg navbar-dark bg-dark":"",tableSingle:ve?"table table-bordered border-dark table-striped table-hover text-center":""},Ne=function(){var e=Object(i.useContext)(je).userActs.currentUser();return Object(a.jsxs)("nav",{className:ge.navbar,children:[Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(a.jsxs)("ul",{className:"navbar-nav",children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsxs)(r.c,{className:"nav-link",to:"/",children:["Home ",Object(a.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(r.c,{className:"nav-link",to:"/contests",children:"Contests"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(r.c,{className:"nav-link",to:"/submissions",children:"Submission"})}),Object(a.jsxs)("li",{className:"nav-item",children:[!e&&Object(a.jsx)(r.c,{to:"/users/login",className:"nav-link",children:"Login"}),e&&Object(a.jsx)(r.c,{to:"/users/profile",className:"nav-link",children:"Profile"})]})]})})]})},ye=s(6),we=s(26),Se=function(){for(var e=Object(i.useContext)(je),t=e.contestActs,s=e.userActs,c=t.getList(),n=[],o=[],l=0;l<c.length;l++){var d=c[l];new Date(d.end_time).getTime()<Date.now()?n.push(c[l]):o.push(c[l])}return console.log("Running Contest list"),Object(a.jsxs)("div",{className:"container p-2",children:[Object(a.jsx)("div",{className:ge.heading4,children:"Current or Upcoming contests"}),o.map((function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:"mt-4"}),Object(a.jsxs)("div",{className:"card rounded-top",children:[Object(a.jsx)("div",{className:"card-header h4",children:Object(a.jsxs)(r.b,{to:"".concat(x.contests,"/").concat(e.id),className:"white-link",children:[e.title," "]})}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("b",{children:"Writer(s)"}),Object(a.jsx)("br",{}),e.writers.map((function(e){return Object(a.jsx)("p",{className:"user",children:s.fullName(e)},e)}))]}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("b",{children:"Tester(s)"}),Object(a.jsx)("br",{}),e.testers.map((function(e){return Object(a.jsx)("p",{className:"user",children:s.fullName(e)},e)}))]})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("p",{children:[Object(a.jsx)("b",{children:"Start at: "}),U(e.start_time)]})}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("b",{children:"Length: "}),Ie(new Date(e.end_time),new Date(e.start_time))]})]}),Object(a.jsx)("div",{className:"text-center",children:new Date(e.start_time)>Date.now()&&Object(a.jsx)("div",{children:Object(a.jsx)(we.a,{date:e.start_time,className:"h2"})})})]})]})]},e.id)})),Object(a.jsx)("p",{className:"mt-5"}),Object(a.jsx)("div",{className:ge.heading4,children:"Past contests"}),n.map((function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:"mt-4"}),Object(a.jsxs)("div",{className:"card pb-4",children:[Object(a.jsx)("div",{className:"card-header h4",children:e.title}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("b",{children:"Writer(s)"}),Object(a.jsx)("br",{}),e.writers.map((function(e){return Object(a.jsx)("p",{className:"user",children:s.fullName(e)},e)}))]}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("b",{children:"Tester(s)"}),Object(a.jsx)("br",{}),e.testers.map((function(e){return Object(a.jsx)("p",{className:"user",children:s.fullName(e)},e)}))]})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("p",{children:[Object(a.jsx)("b",{children:"Ended at: "}),U(e.end_time)]})}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("b",{children:"Length: "}),Ie(new Date(e.end_time),new Date(e.start_time))]})]})]})]})]},e.id)}))]})},Ie=function(e,t){var s;s=t.getTime()>e.getTime()?(t.getTime()-e.getTime())/1e3:(e.getTime()-t.getTime())/1e3;var a=Math.floor(s/3600),c=Math.floor((s-3600*a)/60);return c>2?"".concat(a," hour(s) ").concat(c," minute(s)"):"".concat(a," hour(s)")},ke=function(e){var t=e.match.params.contestId,s=Object(i.useContext)(je),c=s.problemActs,n=s.userActs,o=Object(i.useState)(c.getList(t)),l=Object(fe.a)(o,1)[0];return Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Name"}),Object(a.jsx)("th",{children:"Writer"})]})}),Object(a.jsx)("tbody",{children:l.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)(r.b,{to:"/problems/".concat(e.id),children:e.title})}),Object(a.jsx)("td",{children:n.fullName(e.by)})]},e.id)}))})]})})},_e=function(e){var t=e.match.params.contestId,s=Object(i.useContext)(je),c=s.tutorialActs,n=s.userActs,o=Object(i.useState)(c.getList(t)),l=Object(fe.a)(o,1)[0];return Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Name"}),Object(a.jsx)("th",{children:"Writer"})]})}),Object(a.jsx)("tbody",{children:l.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)(r.b,{to:"/tutorials/".concat(e.id),children:e.title})}),Object(a.jsx)("td",{children:n.fullName(e.by)})]},e.id)}))})]})})},Ae=function(e){return e?{__html:"".concat(e)}:{__html:"<span />"}},Ce=function(e){var t=e.text;return Object(a.jsx)("div",{dangerouslySetInnerHTML:Ae(t)})},De=(i.Component,function(e){var t=e.match,s=t.params.contestId,c=Object(i.useContext)(je),n=c.contestActs,o=c.userActs,l=n.getById(s),d=new Date(l&&l.start_time||Date.now().toLocaleString()),u=new Date(l&&l.end_time||Date.now().toLocaleString());return Object(a.jsxs)("div",{className:"container",children:[l&&Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"pt-3",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col"}),Object(a.jsx)("div",{className:"display-4 bg-secondary text-white col-auto rounded-3",children:l.title}),Object(a.jsx)("div",{className:"col"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-auto",children:Object(a.jsx)("button",{className:"btn btn-dark",children:"Problems"})}),Object(a.jsx)("div",{className:"col-auto",children:Object(a.jsx)("button",{className:"btn btn-dark",children:"Announcements"})}),Object(a.jsx)("div",{className:"col-auto",children:Object(a.jsx)(r.b,{to:"/contests/standing/".concat(s),children:Object(a.jsx)("button",{className:"btn btn-dark",children:"Standing"})})}),Object(a.jsx)("div",{className:"col-auto",children:Object(a.jsx)("button",{className:"btn btn-dark",children:"Tutorials"})}),Object(a.jsx)("div",{className:"col-auto",children:Object(a.jsx)("button",{className:"btn btn-dark",children:"Submissions"})}),Object(a.jsx)("div",{className:"col-auto",children:Object(a.jsx)("button",{className:"btn btn-dark",children:"Your Submissions"})})]})]}),d>Date.now()&&Object(a.jsxs)("div",{className:"pt-5 pb-5 text-center",children:[Object(a.jsx)("p",{className:"h1",children:"Starts in: "}),Object(a.jsx)(we.a,{date:l.start_time,className:"h1"})]}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-auto "+ge.heading4,children:"About contest"}),Object(a.jsx)("div",{className:"col"})]}),Object(a.jsx)("div",{children:l.text&&Object(a.jsx)(Ce,{text:l.text})}),l.writers.map((function(e){return Object(a.jsx)("p",{className:"user",children:o.firstName(e)},e)})),l.testers.map((function(e){return Object(a.jsx)("p",{className:"user",children:o.firstName(e)},e)})),Object(a.jsx)("br",{})]})]}),d<=Date.now()&&Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Problems"}),Object(a.jsx)(ke,{match:t})]}),u<=Date.now()&&Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Tutorials"}),Object(a.jsx)(_e,{match:t})]})]})}),Te=p,Pe=function(e){var t=e.match,s=Object(i.useContext)(je),c=s.contestActs,n=s.userActs,r=t.params.contestId,o=Object(i.useState)([]),l=Object(fe.a)(o,2),j=l[0],b=l[1],h=Object(i.useState)([]),O=Object(fe.a)(h,2),p=O[0],x=O[1];Object(i.useEffect)((function(){(function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.start(),e.next=3,m.get("".concat(Te,"/standing/").concat(r));case 3:t=e.sent,c.failure(),b(t.data.during),x(t.data.after);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r]);return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h2",{children:"During Contest"}),Re(j,n,1),Object(a.jsx)("h2",{children:"After Contest"}),Re(p,n,1)]})},Re=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object(a.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Position"}),Object(a.jsx)("th",{children:"User"}),Object(a.jsx)("th",{children:"Solves"}),Object(a.jsx)("th",{children:"Penalty"})]})}),Object(a.jsx)("tbody",{children:e.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:s++}),Object(a.jsx)("td",{children:t.fullName(e[0])}),Object(a.jsx)("td",{children:e[1]}),Object(a.jsx)("td",{children:Math.floor(parseFloat(e[2])/100)})]},s)}))})]})},Le=function(){return Object(a.jsxs)(ye.c,{children:[Object(a.jsx)(ye.a,{path:"/contests/standing/:contestId",component:Pe}),Object(a.jsx)(ye.a,{path:"/contests/:contestId",component:De}),Object(a.jsx)(ye.a,{path:x.contests,component:Se})]})},Ee=function(){var e=Object(i.useContext)(je).userActs,t=Object(i.useState)(""),s=Object(fe.a)(t,2),c=s[0],n=s[1],r=Object(i.useState)(""),o=Object(fe.a)(r,2),l=o[0],j=o[1];Object(i.useEffect)((function(){var e=document.createElement("script");return e.type="text/javascript",e.async=!0,e.innerText=function(){var e=window.firebaseui,t=window.firebase;t.initializeApp(f);var s=new e.auth.AuthUI(t.auth()),a={callbacks:{signInSuccessWithAuthResult:function(){var e=Object(u.a)(d.a.mark((function e(){var s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.auth().currentUser.getIdToken(!0);case 2:return s=e.sent,e.prev=3,e.next=6,m.post(O+"/users/login/",{idToken:s});case 6:return a=e.sent,localStorage.setItem("token",a.data.jwt),window.location="/",e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}()},signInFlow:"popup",signInOptions:[t.auth.GoogleAuthProvider.PROVIDER_ID,t.auth.FacebookAuthProvider.PROVIDER_ID,t.auth.GithubAuthProvider.PROVIDER_ID]};s.start("#firebaseui-auth-container",a)}(),document.body.appendChild(e),function(){document.body.removeChild(e)}}),[]);var b=function(e){var t=e.currentTarget;"username"===t.name&&n(t.value),"password"===t.name&&j(t.value)};return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{onClick:e.start,children:Object(a.jsx)("div",{id:"firebaseui-auth-container",className:"pt-5"})}),Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(a.jsx)("button",{className:"btn btn-danger",type:"button","data-toggle":"collapse","data-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample",style:{width:"220px"},children:"Password Login"})}),Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(a.jsxs)("div",{className:"collapse",id:"collapseExample",style:{width:"220px"},children:[Object(a.jsx)("input",{type:"text",value:c,name:"username",placeholder:"Email/Username",onChange:b}),Object(a.jsx)("input",{type:"password",value:l,name:"password",placeholder:"Password",onChange:b}),Object(a.jsxs)("div",{className:"row",style:{width:"220px"},children:[Object(a.jsx)("div",{className:"col-4",children:Object(a.jsx)("button",{className:"btn btn-success",onClick:function(){return g(c,l)},style:{width:"63px"},children:"SignIn"})}),Object(a.jsx)("div",{className:"col-8",children:Object(a.jsx)("a",{className:"btn btn-primary",href:"/users/password_reset/",style:{width:"145px"},children:"Reset Password"})})]})]})})]})},Be=function(){return Object(a.jsx)(ye.c,{children:Object(a.jsx)(ye.a,{path:x.login,component:Ee})})},Fe=function(e){Object(_.a)(s,e);var t=Object(A.a)(s);function s(){var e;Object(k.a)(this,s);for(var a=arguments.length,c=new Array(a),n=0;n<a;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={value:e.props.value},e}return Object(D.a)(s,[{key:"render",value:function(){var e=this,t=this.props,s=t.name,c=t.label,n=t.error,r=t.type,i=t.onChange,o=t.placeholder;return Object(a.jsxs)("div",{className:"form-group",children:[c&&Object(a.jsx)("label",{htmlFor:"{name}",children:Object(a.jsx)("h3",{children:c})}),Object(a.jsx)("input",{type:r,value:this.state.value,onChange:function(t){i(t),e.setState({value:t.currentTarget.value})},id:s,name:s,className:"form-control",autoComplete:"off",placeholder:o}),Object(a.jsx)("p",{children:Object(a.jsx)("small",{})}),n&&Object(a.jsx)("div",{className:"alert alert-danger",children:n})]})}}]),s}(i.Component);Fe.defaultProps={type:"text",placeholder:"Input here"};var Ue=s(36),qe=s.n(Ue),Me=function(){var e=Object(i.useContext)(je).userActs.store.getState();Object(i.useEffect)((function(){qe.a.setAppElement("body")}),[]);var t=e.problems.loading||e.users.loading||e.contests.loading||e.submissions.loading;return Object(a.jsx)(qe.a,{isOpen:t,className:"Modal",children:Object(a.jsx)("div",{className:"loader align-middle"})})},Je=function(){var e=Object(i.useContext)(je).contestActs.getList();return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"width-100 d-none d-lg-block float-start p-2",children:[Object(a.jsx)("div",{className:ge.heading4,children:"Latest Contests"}),Object(a.jsx)("table",{className:ge.tableSingle,children:Object(a.jsx)("tbody",{children:e.map((function(e){return Object(a.jsx)("tr",{children:Object(a.jsx)("td",{children:Object(a.jsx)(r.b,{to:"".concat(x.contests,"/").concat(e.id),className:"white-link",children:e.title})})},e.id)}))})}),Object(a.jsx)("span",{className:"p-2"}),Object(a.jsx)("div",{className:ge.heading4,children:"Latest Tutorials"}),Object(a.jsx)("table",{className:ge.tableSingle,children:Object(a.jsxs)("tbody",{children:[Object(a.jsx)("tr",{children:Object(a.jsx)("td",{children:Object(a.jsx)("a",{className:"white-link",href:"#",children:"First"})})}),Object(a.jsx)("tr",{children:Object(a.jsx)("td",{children:Object(a.jsx)("a",{className:"white-link",href:"#",children:"First"})})}),Object(a.jsx)("tr",{children:Object(a.jsx)("td",{children:Object(a.jsx)("a",{className:"white-link",href:"#",children:"First"})})}),Object(a.jsx)("tr",{children:Object(a.jsx)("td",{children:Object(a.jsx)("a",{className:"white-link",href:"#",children:"First"})})}),Object(a.jsx)("tr",{children:Object(a.jsx)("td",{children:Object(a.jsx)("a",{className:"white-link",href:"#",children:"First"})})})]})})]})})},We=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"width-100 d-none d-xxl-block float-end vll",children:Object(a.jsx)("h1",{children:"This is asdf gasd dsa situated on right"})})})},He=function(){var e=Object(i.useState)(!1),t=Object(fe.a)(e,2),s=t[0],c=t[1],n=Object(i.useContext)(je).userActs.store.subscribe((function(){setTimeout((function(){c(!s),n()}),100)}));return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)(Me,{}),Object(a.jsx)(Ne,{}),Object(a.jsx)("div",{className:"col-auto",children:Object(a.jsx)(Je,{})}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("h1",{children:"Currently being redesigned. All services are stopped."}),Object(a.jsxs)(ye.c,{children:[Object(a.jsx)(ye.a,{path:x.contests,component:Le}),Object(a.jsx)(ye.a,{path:x.user,component:Be})]})]}),Object(a.jsx)("div",{className:"col-auto",children:Object(a.jsx)(We,{})})]})},Qe=function(){var e=Ge();return Object(i.useEffect)((function(){y()&&m.get(O+"/users/login_check/").then((function(e){e.data.status||(console.log("Wrong credentials"),v())}))}),[]),Object(a.jsx)(je.Provider,{value:e,children:Object(a.jsxs)("div",{children:[Object(a.jsx)(xe,{}),Object(a.jsx)(He,{})]})})},Ge=function(){var e=Object(S.a)({reducer:de,middleware:[].concat(Object(w.a)(Object(S.d)()),[L])}),t=new ue.a("".concat(function(){var e="https:"===document.location.protocol?"wss://":"ws://";return"localhost"===document.domain?e+"127.0.0.1:8000/ws":e+document.location.host+"/ws"}(),"/"),"",{maxReconnectionDelay:6e4,minReconnectionDelay:500});return{contestActs:new G(e,t),userActs:new te(e,t),submissionActs:new ne(e,t),problemActs:new z(e,t),tutorialActs:new le(e,t),store:e,ws:t}};n.a.render(Object(a.jsx)(r.a,{children:Object(a.jsx)(Qe,{})}),document.getElementById("root"))},61:function(e,t,s){},95:function(e,t,s){}},[[109,1,2]]]);
//# sourceMappingURL=main.0709aa20.chunk.js.map